var mvpjq=jQuery;
(function(c){var b=function(){};b.test=document.createElement("div");b.isEmpty=function(b){return 0==b.replace(/^\s+|\s+$/g,"").length};b.strip=function(b){return b.replace(/^\s+|\s+$/g,"")};b.isNumber=function(b){return!isNaN(parseFloat(b))&&isFinite(b)};b.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|sony|BlackBerry/i.test(navigator.userAgent)};b.isIE=function(){return-1!=b.getInternetExplorerVersion()?!0:!1};b.isChrome=function(){return!!c.chrome&&!!c.chrome.webstore};b.isSafari=function(){return 0<
Object.prototype.toString.call(c.HTMLElement).indexOf("Constructor")};b.hasLocalStorage=function(){try{return"localStorage"in c&&null!==c.localStorage}catch(p){return!1}};b.getInternetExplorerVersion=function(){var b=-1;if("Microsoft Internet Explorer"==navigator.appName){var c=navigator.userAgent,B=/MSIE ([0-9]{1,}[.0-9]{0,})/;null!=B.exec(c)&&(b=parseFloat(RegExp.$1))}else"Netscape"==navigator.appName&&(c=navigator.userAgent,B=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/,null!=B.exec(c)&&(b=parseFloat(RegExp.$1)));
return b};b.isIOS=function(){return navigator.userAgent.match(/(iPad|iPhone|iPod)/g)};b.isiPhoneIpod=function(){var b=navigator.userAgent;return-1<b.indexOf("iPhone")||-1<b.indexOf("iPod")};b.isAndroid=function(){return-1<navigator.userAgent.indexOf("Android")};b.hasHistory=function(){return!(!c.history||!history.pushState)};b.hasDownloadSupport=function(){return"download"in document.createElement("a")};b.volumeCanBeSet=function(){var b=document.createElement("audio");if(!b)return!1;b.volume=0;return 0==
b.volume?!0:!1};b.supportsWebGL=function(){try{return!!c.WebGLRenderingContext&&!!document.createElement("canvas").getContext("experimental-webgl")}catch(p){return!1}};b.canPlayMp4=function(){var b=document.createElement("video");return!(!b.canPlayType||!b.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))};b.canPlayMp3=function(){var b=document.createElement("audio");return!(!b.canPlayType||!b.canPlayType("audio/mpeg;").replace(/no/,""))};b.canPlayWav=function(){var b=document.createElement("audio");
return!(!b.canPlayType||!b.canPlayType("audio/wav;").replace(/no/,""))};b.relativePath=function(b){return/^(?:[a-z]+:)?\/\//i.test(b)};b.qualifyURL=function(b){var c=document.createElement("a");c.href=b;return c.href};b.hasFullscreen=function(){return b.test.requestFullscreen||b.test.mozRequestFullScreen||b.test.msRequestFullscreen||b.test.oRequestFullscreen||b.test.webkitRequestFullScreen};b.selectText=function(b){var p=document;if(p.body.createTextRange)p=p.body.createTextRange(),p.moveToElementText(b),
p.select();else if(c.getSelection){var B=c.getSelection();p=p.createRange();p.selectNodeContents(b);B.removeAllRanges();B.addRange(p)}};b.randomiseArray=function(b){var c=[],p=[],L;for(L=0;L<b;L++)c[L]=L;for(L=0;L<b;L++){var v=Math.round(Math.random()*(c.length-1));p[L]=c[v];c.splice(v,1)}return p};b.sortArray=function(b,c){var p,L=b.length,v=[];for(p=0;p<L;p++)v[p]=b[c[p]];return v};b.keysrt=function(b,c,B){var p=1;B&&(p=-1);return b.sort(function(b,l){var v=b[c],g=l[c];return p*(v<g?-1:v>g?1:0)})};
b.formatTime=function(b){b=parseInt(b,10);var c=Math.floor(b/3600),p=Math.floor((b-3600*c)/60);b=b-3600*c-60*p;if(0<c)return 10>c&&(c="0"+c),10>p&&(p="0"+p),10>b&&(b="0"+b),c+":"+p+":"+b;10>p&&(p="0"+p);10>b&&(b="0"+b);return p+":"+b};b.toSeconds=function(b){b=b.split(/[\.:,]+/);return Number(3600*+b[0]+60*+b[1]+ +b[2])};b.isScrolledIntoView=function(b){b=b.getBoundingClientRect();var p=b.bottom;return 0<=b.top&&p<=c.innerHeight};b.getElementOffsetTop=function(b){b=b.getBoundingClientRect();var p=
document.body,B=document.documentElement;return Math.round(b.bottom-100+(c.pageYOffset||B.scrollTop||p.scrollTop)-(B.clientTop||p.clientTop||0))};b.getScrollTop=function(b){b=document.documentElement;return(c.pageYOffset||b.scrollTop)-(b.clientTop||0)};b.rgbToHex=function(b){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(b)?b:(b=b.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===b.length?"#"+("0"+parseInt(b[1],10).toString(16)).slice(-2)+("0"+parseInt(b[2],10).toString(16)).slice(-2)+
("0"+parseInt(b[3],10).toString(16)).slice(-2):""};b.getUrlParameter=function(b){var p={};c.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(b,c,v){p[c]=v});return b?p[b]:p};b.checkCssExist=function(b){for(var c=document.styleSheets,p=0,L=c.length;p<L;p++)if(c[p].href==b)return;c=document.createElement("link");c.rel="stylesheet";c.href=b;document.getElementsByTagName("head")[0].appendChild(c)};c.MVPUtils=b})(window);
(function(c,b){c.MVPYoutubeLoader=function(c){function p(c){b.ajax({url:"https://www.googleapis.com/youtube/v3/videos?id="+c+"&key="+ta+"&part=statistics,contentDetails",dataType:"jsonp"}).done(function(c){if(c.error&&c.error.message)console.log(c.error.message);else{var l,Ba=c.items.length;for(l=0;l<Ba;l++){var p=c.items[l];g[l].statistics=p.statistics;var sa=g[l],W=p.contentDetails.duration,q=W.match(/\d+/g);0<=W.indexOf("M")&&-1==W.indexOf("H")&&-1==W.indexOf("S")&&(q=[0,q[0],0]);0<=W.indexOf("H")&&
-1==W.indexOf("M")&&(q=[q[0],0,q[1]]);0<=W.indexOf("H")&&-1==W.indexOf("M")&&-1==W.indexOf("S")&&(q=[q[0],0,0]);W=0;3==q.length&&(W+=3600*parseInt(q[0]),W+=60*parseInt(q[1]),W+=parseInt(q[2]));2==q.length&&(W+=60*parseInt(q[0]),W+=parseInt(q[1]));1==q.length&&(W+=parseInt(q[0]));sa.duration=W;"360"==p.contentDetails.projection&&(g[l].is360=!0)}b(v).trigger("MVPYoutubeLoader.END_LOAD",{info:ea,data:g,nextPageToken:C})}}).fail(function(b,c,g){console.log(b,c,g)})}function B(c){b.ajax({url:c,dataType:"jsonp"}).done(function(c){if(c.error&&
c.error.message)console.log(c.error.message);else{var sa,fa=c.items.length;(C=c.nextPageToken)&&(C=S+"&pageToken="+C);for(sa=0;sa<fa&&g.length!=Ba;sa++){var W=c.items[sa];"youtube_playlist"==l||"youtube_single"==l||"youtube_single_list"==l?W.status&&"private"!=W.status.privacyStatus&&(W.snippet.title?"Deleted video"!=W.snippet.title:1)&&g.push(L(W,l)):("youtube_video_query"==l||"youtube_channel"==l)&&g.push(L(W,l))}if("youtube_single"==l||"youtube_single_list"==l)b(v).trigger("MVPYoutubeLoader.END_LOAD",
{info:ea,data:g,nextPageToken:C});else if(g.length<Ba)if(c.nextPageToken){g.length+z>Ba&&(z=Ba-g.length);if("youtube_playlist"==l)var aa="https://www.googleapis.com/youtube/v3/playlistItems?pageToken="+c.nextPageToken+"&part=snippet,status,contentDetails&maxResults="+z+"&playlistId="+q.path+"&key="+ta;else if("youtube_video_query"==l)aa="https://www.googleapis.com/youtube/v3/search?pageToken="+c.nextPageToken+"&part=id,snippet&type=video&maxResults="+z+"&order="+Ub+"&q="+encodeURIComponent(q.path)+
"&key="+ta;else if("youtube_channel"==l||"youtube_user"==l)aa="https://www.googleapis.com/youtube/v3/search?pageToken="+c.nextPageToken+"&part=id,snippet&type=video&maxResults="+z+"&order=date&channelId="+q.path+"&key="+ta;B(aa)}else if(oa&&g.length){c="";fa=g.length;for(sa=0;sa<fa;sa++)c+=g[sa].id+",";c=c.substr(0,c.length-1);p(c)}else b(v).trigger("MVPYoutubeLoader.END_LOAD",{info:ea,data:g,nextPageToken:C});else if(oa){c="";fa=g.length;for(sa=0;sa<fa;sa++)c+=g[sa].id+",";c=c.substr(0,c.length-
1);p(c)}else b(v).trigger("MVPYoutubeLoader.END_LOAD",{info:ea,data:g,nextPageToken:C})}}).fail(function(b,c,g){console.log(b,c,g)})}function L(b,c){var g=jQuery.extend(!0,{},q);g.type="youtube";g.deeplink&&"youtube_single"!=g.origtype&&(g.deeplink+=aa.toString(),aa++);if("youtube_single"==c||"youtube_single_list"==c)g.id=b.id;else if("youtube_playlist"==c)g.id=b.contentDetails.videoId;else if("youtube_video_query"==c||"youtube_channel"==c)g.id=b.id.videoId;b.snippet&&(g.snippet=b.snippet,b.snippet.publishedAt&&
(g.publishedAt=b.snippet.publishedAt));!g.title&&b.snippet.title&&(g.title=b.snippet.title);!g.description&&b.snippet.description&&(g.description=b.snippet.description);g.url||(g.url="https://www.youtube.com/watch?v="+g.id);b.contentDetails&&b.contentDetails.projection&&"360"==b.contentDetails.projection&&(g.is360=!0);b.statistics&&(g.statistics=b.statistics);return g}var v=this,l,q,g=[],aa,z=50,S,C,oa=c.getStats,fa,ea,Ba,Ub,ta=c.youtubeAppId,Cc;this.resumeLoad=function(c){g=[];c?(S=c.substr(0,c.lastIndexOf("&pageToken=")),
B(c)):b(v).trigger("MVPYoutubeLoader.END_LOAD",{data:g,nextPageToken:c})};this.getData=function(c){ea=null;if("youtube_channel"==c.type){var g="https://www.googleapis.com/youtube/v3/channels?part=id,snippet,statistics,brandingSettings&id="+c.path+"&fields=items(id,snippet%2Ftitle,snippet%2Fdescription,snippet%2FpublishedAt,snippet%2Fthumbnails,statistics%2FsubscriberCount,statistics%2FviewCount,statistics%2FvideoCount,brandingSettings%2Fimage)&key="+ta;b.ajax({url:g,dataType:"jsonp"}).done(function(b){ea=
b;ea.fetch_type=c.type;v.setData(c)}).fail(function(b,c,g){console.log(b,c,g)})}else"youtube_playlist"==c.type?v.setData(c):"youtube_video_query"==c.type?v.setData(c):"youtube_user"==c.type&&(g="https://www.googleapis.com/youtube/v3/channels?part=id,snippet,statistics,brandingSettings&forUsername="+c.path+"&fields=items(id,snippet%2Ftitle,snippet%2Fdescription,snippet%2FpublishedAt,snippet%2Fthumbnails,statistics%2FsubscriberCount,statistics%2FviewCount,statistics%2FvideoCount,brandingSettings%2Fimage)&key="+
ta,b.ajax({url:g,dataType:"jsonp"}).done(function(b){ea=b;c.type="youtube_channel";c.path=b.items[0].id;ea.fetch_type=c.type;v.setData(c)}).fail(function(b,c,g){console.log(b,c,g)}))};this.getChannelId=function(){return Cc};this.setDataFromCache=function(b){g=[];q=b;Ba=q.limit||400;z=50;Ba<z&&(z=Ba);Ub=q.sort||"relevance";l=q.type};this.setData=function(c){if(ta){g=[];q=c;aa=0;Ba=q.limit||400;z=50;Ba<z&&(z=Ba);Ub=q.sort||"relevance";l=q.type;C=null;if("youtube_single"==l||"youtube_single_list"==l)S=
"https://www.googleapis.com/youtube/v3/videos?id="+q.path+"&key="+ta+"&part=snippet,contentDetails,status,statistics";else if("youtube_playlist"==l)S="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,status,contentDetails&maxResults="+z+"&playlistId="+q.path+"&key="+ta;else if("youtube_video_query"==l)S="https://www.googleapis.com/youtube/v3/search?part=id,snippet&type=video&maxResults="+z+"&order="+Ub+"&q="+encodeURIComponent(q.path)+"&key="+ta;else if("youtube_channel"==l)S="https://www.googleapis.com/youtube/v3/search?part=id,snippet&type=video&order=date&maxResults="+
z+"&order=date&channelId="+q.path+"&key="+ta;else{"youtube_user"==l?b.ajax({url:"https://www.googleapis.com/youtube/v3/channels?part=id&forUsername="+q.path+"&fields=items(id)&key="+ta,dataType:"jsonp"}).done(function(b){l=c.type="youtube_channel";Cc=b.items[0].id;c.path=Cc;ea&&(ea.fetch_type=c.type);v.setData(c)}).fail(function(b,c,g){console.log(b,c,g)}):console.log("Wrong youtube type!");return}B(S)}else alert("Youtube API key missing! Set API key in settings.")};this.getChannelInfo=function(c){b.ajax({url:"https://www.googleapis.com/youtube/v3/channels?part=snippet,statistics&id="+
c+"&fields=items(snippet%2Fthumbnails,statistics%2FsubscriberCount)&key="+ta,dataType:"jsonp"}).done(function(c){b(v).trigger("MVPYoutubeLoader.CHANNEL_INFO",{data:c})}).fail(function(b,c,g){console.log(b,c,g)})};this.getComments=function(c){fa="https://www.googleapis.com/youtube/v3/commentThreads?part=snippet,replies&order=time&videoId="+c+"&key="+ta;b.ajax({url:fa,dataType:"jsonp"}).done(function(c){b(v).trigger("MVPYoutubeLoader.COMMENTS_END_LOAD",{data:c})}).fail(function(c,g,ea){console.log(c,
g,ea);b(v).trigger("MVPYoutubeLoader.COMMENTS_ERROR_LOAD")})};this.resumeComments=function(c){fa+="&pageToken="+c;b.ajax({url:fa,dataType:"jsonp"}).done(function(c){b(v).trigger("MVPYoutubeLoader.COMMENTS_END_LOAD",{data:c})}).fail(function(c,g,ea){console.log(c,g,ea);b(v).trigger("MVPYoutubeLoader.COMMENTS_ERROR_LOAD")})};this.getNextPageToken=function(){return C}}})(window,jQuery);
(function(c,b){c.MVPVimeoLoader=function(p){function lc(c){b.ajax({type:"GET",url:l+"includes/vimeo/vimeo_data.php",data:{type:"next_page",path:c,vai:fa},dataType:"json"}).done(function(b){B(b)}).fail(function(b,c,g){console.log(b,c,g)})}function B(c){aa=c.body.paging&&c.body.paging.next?c.body.paging.next:null;var l;var ea=c.body.data?c.body.data.length:1;for(l=0;l<ea&&S.length!=q;l++){var p=c.body.uri?c.body:c.body.data[l];S.push(L(p))}S.length<q?aa?(S.length+g>q&&(g=q-S.length,c=aa.split("per_page=")[1].split("&")[0],
aa=aa.replace("per_page="+c,"per_page="+g)),lc(aa)):b(v).trigger("MVPVimeoLoader.END_LOAD",{info:C,data:S,nextPageToken:aa}):b(v).trigger("MVPVimeoLoader.END_LOAD",{info:C,data:S,nextPageToken:aa})}function L(c){var g=b.extend(!0,{},z);g.deeplink&&"vimeo_single"!=g.origtype&&(g.deeplink+=(oa+1).toString(),oa++);g.type="vimeo";-1<c.uri.indexOf(":")&&(c.uri=c.uri.substr(0,c.uri.lastIndexOf(":")));g.id=c.uri.substr(c.uri.lastIndexOf("/")+1);c.duration&&(g.duration=c.duration);!g.title&&c.name&&(g.title=
c.name);!g.description&&c.description&&(g.description=c.description);!g.thumb&&c.pictures&&(g.pictures=c.pictures);g.url||(g.url="https://vimeo.com/"+g.id);g.release_time=c.release_time;g.plays=c.stats.plays;g.comments=c.metadata.connections.comments.total;g.likes=c.metadata.connections.likes.total;g.categories=c.categories;g.user=c.user;c.download&&c.download.link&&(g.download=c.download.link);return g}var v=this,l=p.sourcePath,q,g=100,aa,z=[],S=[],C,oa,fa=p.vai;this.resumeLoad=function(c){S=[];
c?lc(c):b(v).trigger("MVPVimeoLoader.END_LOAD",{data:S,nextPageToken:c})};this.getData=function(c){C=null;"vimeo_channel"==c.type||"vimeo_group"==c.type||"vimeo_user_album"==c.type?b.ajax({type:"GET",url:l+"includes/vimeo/vimeo_data.php",data:{type:"vimeo_user_album"==c.type?"vimeo_user_info":c.type+"_info",path:c.path,user_id:c.user_id,vai:fa},dataType:"json"}).done(function(b){C=b.body;C.fetch_type=c.type;v.setData(c)}).fail(function(c,b,g){console.log(c,b,g)}):"vimeo_album"==c.type?v.setData(c):
"vimeo_video_query"==c.type&&v.setData(c)};this.setDataFromCache=function(c){S=[];z=c;g=100;q=z.limit||1E3;q<g&&(g=q)};this.setData=function(v){if("file:"==c.location.protocol)console.log("Using Vimeo locally is not possible! This requires online server connection!");else{S=[];z=v;g=100;q=z.limit||1E3;q<g&&(g=q);oa=0;aa=null;"vimeo_single"==z.type&&-1<z.path.indexOf("/")&&(z.path=z.path.replace("/",":"));var p=l+"includes/vimeo/vimeo_data.php";v={type:z.type,path:z.path,user_id:z.user_id,sort:z.sort,
sortDirection:z.sortDirection,page:1,perPage:q<g?q:g,vai:fa};b.ajax({type:"GET",url:p,data:v,dataType:"json"}).done(function(c){if(!c.body)return console.log("Vimeo response null!"),!1;B(c)}).fail(function(c,b,g){console.log(c,b,g)})}};this.getComments=function(c,g){b.ajax({type:"GET",url:l+"includes/vimeo/vimeo_data.php",data:{type:"video_comments",video_id:c,sortDirection:"desc",page:1,perPage:g,vai:fa},dataType:"json"}).done(function(c){b(v).trigger("MVPVimeoLoader.COMMENTS_END_LOAD",{data:c.body})}).fail(function(c,
g,l){console.log(c,g,l);b(v).trigger("MVPVimeoLoader.COMMENTS_ERROR_LOAD")})};this.resumeComments=function(c){b.ajax({type:"GET",url:l+"includes/vimeo/vimeo_data.php",data:{type:"next_page",path:c,vai:fa},dataType:"json"}).done(function(c){b(v).trigger("MVPVimeoLoader.COMMENTS_END_LOAD",{data:c.body})}).fail(function(c,g,l){console.log(c,g,l);b(v).trigger("MVPVimeoLoader.COMMENTS_ERROR_LOAD")})};this.getNextPageToken=function(){return aa}}})(window,jQuery);
(function(c,b){c.MVPPlaylistManager=function(c){function p(){C=MVPUtils.randomiseArray(l)}var B=this,L=c.loopingOn,v=c.randomPlay,l,q=!1,g=-1,aa,z,S=!1,C=[],oa=!1;setTimeout(function(){clearTimeout(this);b(B).trigger("MVPPlaylistManager.RANDOM_CHANGE",v);b(B).trigger("MVPPlaylistManager.LOOP_CHANGE",L)},50);this.setCounter=function(c,z){"undefined"===typeof z&&(z=!0);g=z?g+parseInt(c,10):parseInt(c,10);if(isNaN(g))alert("MVPPlaylistManager message: No active media, counter = "+g);else if(q=!1,L){if(v)if(g>
l-1){g=C[l-1];p();if(C[0]==g){var fa=C.splice(0,1);C.push(fa)}g=0}else 0>g&&(g=C[0],p(),C[l-1]==g&&(fa=C.splice(l-1,1),C.unshift(fa)),g=l-1);else g>l-1?g=0:0>g&&(g=l-1);b(B).trigger("MVPPlaylistManager.COUNTER_READY",g)}else g>l-1?(g=l-1,q=!0):0>g&&(g=0),q?b(B).trigger("MVPPlaylistManager.PLAYLIST_END"):b(B).trigger("MVPPlaylistManager.COUNTER_READY",g)};this.getCounter=function(){return v?oa?g:C[g]:g};this.advanceHandler=function(c){oa=!1;S?(S=!1,z+c>l-1?(g=l-1,b(B).trigger("MVPPlaylistManager.COUNTER_READY",
g)):0>z+c?(g=0,b(B).trigger("MVPPlaylistManager.COUNTER_READY",g)):B.setCounter(z+c,!1)):B.setCounter(c)};this.processPlaylistRequest=function(c){oa=!1;v&&(oa=!0,aa=c,S||(z=g,S=!0));B.setCounter(c,!1)};this.setPlaylistItems=function(c,b){"undefined"===typeof b&&(b=!0);b&&(g=-1);l=c;v&&p()};this.reSetCounter=function(c){"undefined"===typeof c?g=-1:(c=parseInt(c,10),l?(c>l-1?c=l-1:0>c&&(c=0),g=c):g=-1)};this.setRandom=function(c){v="undefined"!==typeof c?c:!v;3>l&&(v=!1);v&&p();if(v){var q=C.length;
for(c=0;c<q;c++)if(C[c]==g){if(0==c)break;c=C.splice(c,1);C.unshift(parseInt(c,10));break}g=0}else S?(g=aa,S=!1):g=C[g];b(B).trigger("MVPPlaylistManager.RANDOM_CHANGE",v)};this.getRandom=function(c){return v};this.setLooping=function(c){L="undefined"!==typeof c?c:!L;b(B).trigger("MVPPlaylistManager.LOOP_CHANGE",L)};this.getLooping=function(c){return L};this.getPosition=function(c){return C.indexOf(c)}}})(window,jQuery);
(function(c,b){function p(c,b,l,q){var g={},v=l.width();l=l.height();q=lc(b,q);b=q.width;q=q.height;var p=(v-0)/(l-0),L=b/q;L<p?c?(g.width=(l-0)/q*b,g.height=l-0):(g.height=(v-0)/b*q,g.width=v-0):L>p?c?(g.height=(v-0)/b*q,g.width=v-0):(g.width=(l-0)/q*b,g.height=l-0):(g.width=v-0,g.height=l-0);return g}function lc(c,b){var l={};"video"==c?b[0]&&b[0].videoWidth&&b[0].videoHeight?(l.width=b[0].videoWidth,l.height=b[0].videoHeight):(l.width=16,l.height=9):"iframe"==c?b.sw&&b.sh?(l.width=b.sw,l.height=
b.sh):(l.width=16,l.height=9):"image"==c&&(l.width=b.width(),l.height=b.height());return l}var B=function(){};B.resizeMedia=function(c,b,l,q){var g,v=l.width();var z=l.height();0==b?g=lc(c,q):1==b?g=p(!0,c,l,q):2==b&&(g=p(!1,c,l,q));c=parseInt((v-g.width)/2,10);z=parseInt((z-g.height)/2,10);q.css({width:g.width+"px",height:g.height+"px",left:c+"px",top:z+"px"})};c.MVPAspectRatio=B})(window,jQuery);
(function(c){c.fn.mvp=function(b){function p(){Ca.swipe({swipeLeft:function(a,d,c,b,h,e){if(!t)return!1;("audio"==f||"video"==f&&"video_360"!=D||"image"==f&&"image_360"!=D||"youtube"==f&&"chromeless"==la&&!k.is360||"vimeo"==f&&"chromeless"==ba&&!k.is360)&&Vb()},swipeRight:function(a,d,c,b,h,e){if(!t)return!1;("audio"==f||"video"==f&&"video_360"!=D||"image"==f&&"image_360"!=D||"youtube"==f&&"chromeless"==la&&!k.is360||"vimeo"==f&&"chromeless"==ba&&!k.is360)&&ld()}})}function lc(a){if(!Yd){if("touchstart"==
a.type){if(a=a.originalEvent.touches,!(a&&0<a.length))return!1}else a.preventDefault();Yd=!0;Ia.on(rb,function(a){a:{if("touchmove"==a.type){if(a.originalEvent.touches&&a.originalEvent.touches.length)var d=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)d=a.originalEvent.changedTouches;else break a;if(1<d.length)break a;d=d[0]}else d=a;a.preventDefault();B(d)}}).on(Dc,function(a){a:if(Yd){Yd=!1;Ia.off(rb).off(Dc);if("touchend"==a.type){if(a.originalEvent.touches&&
a.originalEvent.touches.length)var d=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)d=a.originalEvent.changedTouches;else break a;if(1<d.length)break a;d=d[0]}else d=a;a.preventDefault();B(d)}})}return!1}function B(a){a=a.pageX-Cb.offset().left;0>a?a=0:a>Za&&(a=Za);var d=Math.max(0,Math.min(1,a/Za));if("audio"==f){var c=u.duration;var b=d*c;try{u.currentTime=b.toFixed(1)}catch(sb){}}else if("video"==f){c=m.duration;b=d*c;try{m.currentTime=b.toFixed(1)}catch(sb){}}else"youtube"==
f?(c=y.getDuration(),b=d*c,y.seekTo(b)):"vimeo"==f&&(0!=Db?(c=Db,b=d*c,w.setCurrentTime(b)):w.getDuration().then(function(a){c=a;b=d*c;w.setCurrentTime(b)}),"chromeless"==ba&T&&gb.show());T||(Se(!0),Te.width(b/c*Za));if(G&&Ja.length){var h=Ja.length;for(a=0;a<h;a++){var e=Ja[a];if(b>=e.start&&b<=e.end){Ec.css("opacity",1).text(e.text);T||H.hide();break}}}}function L(a){var d=a.pageX-Cb.offset().left;if(!MVPUtils.isNumber(d))return!1;0>d?d=0:d>Za&&(d=Za);var c=Math.max(0,Math.min(1,d/Za));if(!MVPUtils.isNumber(c))return!1;
d=e[0].getBoundingClientRect();var b=Da[0].getBoundingClientRect();if("audio"==f)var h=u.duration;else"video"==f?h=m.duration:"youtube"==f?h=y.getDuration():"vimeo"==f&&(h=Db);if(k.previewSeek&&Eb.length){var g=h*c;MVPUtils.isNumber(h)&&vh.html(MVPUtils.formatTime(g));c=Eb.length;for(h=0;h<c;h++){var sb=Eb[h];var Xf=sb.start;var l=sb.end;if(g>=Xf&&g<=l){if(!Fb){sb=sb.url;var n=sb.substr(sb.lastIndexOf("=")+1).split(",");n="-"+n[0]+"px -"+n[1]+"px";Fb={};Fb.start=Xf;Fb.end=l;xh.css({"background-image":"url("+
sb+")","background-position":n})}}else Fb&&(g<Fb.start||g>Fb.end)&&(Fb=null)}a=a.pageX-ua.scrollLeft()-d.left-mc.outerWidth()/2;g=b.top-d.top-mc.outerHeight()-10;"lightbox"!=$a&&(0>a?a=0:a+mc.outerWidth()>Ka.width()&&(a=Ka.width()-mc.outerWidth()));mc.css({left:parseInt(a,10)+"px",top:parseInt(g,10)+"px"}).show()}else a=a.pageX-ua.scrollLeft()-d.left-U.outerWidth()/2,g="top"==yh?b.top-d.top+Da.outerHeight()+10:b.top-d.top-U.outerHeight(),"lightbox"!=$a&&(0>a?a=0:a+U.outerWidth()>e.width()&&(a=e.width()-
U.outerWidth())),U.css({left:parseInt(a,10)+"px",top:parseInt(g,10)+"px"}).show(),MVPUtils.isNumber(h)&&U.text(MVPUtils.formatTime(h*c)+" / "+MVPUtils.formatTime(h))}function v(a){if(t){if(!Zd){if("touchstart"==a.type){if(a=a.originalEvent.touches,!(a&&0<a.length))return!1}else a.preventDefault();Zd=!0;Ia.on(rb,function(a){a:{if("touchmove"==a.type){if(a.originalEvent.touches&&a.originalEvent.touches.length)var d=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)d=
a.originalEvent.changedTouches;else break a;if(1<d.length)break a;d=d[0]}else d=a;a.preventDefault();q(d)}}).on(Dc,function(a){a:if(Zd){Zd=!1;Ia.off(rb).off(Dc);if("touchend"==a.type){if(a.originalEvent.touches&&a.originalEvent.touches.length)var d=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)d=a.originalEvent.changedTouches;else break a;if(1<d.length)break a;d=d[0]}else d=a;a.preventDefault();q(d)}})}return!1}}function l(){if(!t)return!1;0<
K?(Ue=K,K=0):K=Ue;g()}function q(a){nc?K=Math.max(0,Math.min(1,(a.pageX-Fc.offset().left)/Gc)):(K=Math.max(0,Math.min(1,(a.pageY-Fc.offset().top)/Gc)),K=1-K);g()}function g(a){console.log("setVolume");"undefined"!==typeof a&&(K=a);"undefined"!==typeof K&&("audio"==f?u&&(u.volume=K,u.muted=0==K?!0:!1):"video"==f?m&&(m.volume=K,m.muted=0==K?!0:!1):"youtube"==f?y&&(y.setVolume(100*K),0==K?y.mute():y.unMute()):"vimeo"==f&&w&&w.setVolume(K));Hc.children().hide();0==K?(Hc.find(".mvp-btn-volume-off").show(),
"custom"==Gb&&(Ic.find(".mvp-context-volume-mute").hide(),Ic.find(".mvp-context-volume-unmute").show())):0<K&&.5>K?(Hc.find(".mvp-btn-volume-down").show(),"custom"==Gb&&(Ic.find(".mvp-context-volume-unmute").hide(),Ic.find(".mvp-context-volume-mute").show())):.5<=K&&1>=K&&(Hc.find(".mvp-btn-volume-up").show(),"custom"==Gb&&(Ic.find(".mvp-context-volume-unmute").hide(),Ic.find(".mvp-context-volume-mute").show()));zh.css(nc?"width":"height",K*Gc+"px");c(n).trigger("volumeChange",{instance:n,instanceName:M,
volume:K})}function aa(a){var d=nc?a.pageX-Fc.offset().left:a.pageY-Fc.offset().top;0>d?d=0:d>Gc&&(d=Gc);d=Math.max(0,Math.min(1,d/Gc));if(!MVPUtils.isNumber(d))return!1;nc||(d=1-d);d=parseInt(100*d,10);U.text(d+" %");var c=e[0].getBoundingClientRect(),b=ab[0].getBoundingClientRect();nc?(d=parseInt(a.pageX-ua.scrollLeft()-c.left-U.outerWidth()/2),a=parseInt(b.top-c.top-U.outerHeight())):(d=parseInt(b.left-c.left-U.outerWidth()/2+ab.outerWidth()/2),a=parseInt(a.pageY-ua.scrollTop()-c.top-U.outerHeight()-
10));U.css({left:d+"px",top:a+"px"}).show()}function z(a){var d="https:"==window.location.protocol?"https:":"http:",c=(window.screen.width-600)/2,b=(window.screen.height-300)/2,h=k.title||"",f=k.description||"",g=k.thumb||k.thumbDefault,l=k.share||window.location.href;MVPUtils.relativePath(g)||(g=MVPUtils.qualifyURL(k.thumb));if("facebook"==a){if(e.find('.mvp-share-item[data-type="facebook"]').length){alert("Facebook API key has not been set in settings!");return}if(window.FB){FB.ui({method:"share_open_graph",
action_type:"og.shares",action_properties:JSON.stringify({object:{"og:url":l,"og:title":h,"og:description":f,"og:image":g}})},function(a){});return}}else if("twitter"==a)var m=d+"//twitter.com/intent/tweet?url="+encodeURIComponent(l)+"&text="+encodeURIComponent(h);else if("googleplus"==a)m=d+"//plus.google.com/share?url="+encodeURIComponent(l);else if("tumblr"==a)m=d+"//www.tumblr.com/share/link?url="+encodeURIComponent(l)+"&amp;name="+encodeURIComponent(h)+"&amp;description="+encodeURIComponent(f);
else if("reddit"==a)m=d+"//www.reddit.com/submit?url="+encodeURIComponent(l);else if("linkedin"==a)m=d+"//www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(l)+"&title="+encodeURIComponent(h)+"&summary="+encodeURIComponent(f)+"&source="+document.title;else if("digg"==a)m=d+"//digg.com/submit?url="+encodeURIComponent(l)+"&title="+encodeURIComponent(h);else if("pinterest"==a)m=d+"//www.pinterest.com/pin/create/button/?url="+encodeURIComponent(l)+"&media="+encodeURIComponent(g)+"&description="+
encodeURIComponent(f);else if("whatsapp"==a){if(G){a=encodeURIComponent(h)+" - "+encodeURIComponent(l);window.location.href="whatsapp://send?text="+a;return}alert("Please share this content on mobile device!")}m&&window.open(m,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,width=600,height=300,left="+c+",top="+b)}function S(a){(function(a,c,b){var d=a.getElementsByTagName(c)[0];a.getElementById(b)||(a=a.createElement(c),a.id=b,a.src="//connect.facebook.net/en_US/sdk.js",d.parentNode.insertBefore(a,
d))})(document,"script","facebook-jssdk");window.fbAsyncInit=function(){FB.init({appId:a,xfbml:!0,version:"v2.9"})}}function C(){if(c(this).hasClass("mvp-menu-active"))return!1;var a=c(this).attr("data-value");"audio"==f?u.playbackRate=Number(a):"video"==f?m.playbackRate=Number(a):"youtube"==f?y.setPlaybackRate(Number(a)):"vimeo"==f&&w.setPlaybackRate(Number(a)).then(function(a){})["catch"](function(a){console.log(a.name)});k.playbackRate=a;bb&&(P.find(".mvp-settings-menu").hide(),cb.show())}function oa(a){$d&&
$d.removeClass("mvp-menu-active");$d=ae.find(".mvp-menu-item[data-value='"+a+"']").addClass("mvp-menu-active");bb&&P.find(".mvp-playback-rate-menu-value").text($d.text())}function fa(){var a=[],d=k.path.length;for(Wb=0;Wb<d;Wb++){var c=k.path[Wb];a.push(c.quality)}return a}function ea(a,d){var b,x=a.length;for(b=0;b<x;b++){var h=a[b];h.label?c("<li/>").addClass("mvp-menu-item").attr({"data-value":h.value,"data-label":h.label}).text(h.label).on("click",Ba).appendTo(md):c("<li/>").addClass("mvp-menu-item").attr("data-value",
h).text(h).on("click",Ba).appendTo(md)}Ub(d);oc.show();Yf.removeClass("mvp-force-hide")}function Ba(){if(c(this).hasClass("mvp-menu-active"))return!1;Hb&&Hb.removeClass("mvp-menu-active");Hb=c(this).addClass("mvp-menu-active");var a=Hb.attr("data-value");k.quality=a;if("image"==f||"audio"==f||"video"==f)if("hls"==D){var d=parseInt(a,10);-1==a?(V.currentLevel=d,V.nextLevel=d,V.loadLevel=d):V.currentLevel=a}else"dash"!=D&&va(!0);else"youtube"==f&&y.setPlaybackQuality(a);bb&&(P.find(".mvp-quality-menu-value").text(Hb.text()),
P.find(".mvp-settings-menu").hide(),cb.show())}function Ub(a){Hb&&Hb.removeClass("mvp-menu-active");Hb=md.find(".mvp-menu-item[data-value='"+a+"']").addClass("mvp-menu-active");bb&&P.find(".mvp-quality-menu-value").text(Hb.text())}function ta(){var a=c(this).attr("data-value");"hls"==D&&(V.audioTrack=a)}function Cc(){var a,d=k.subtitles.length,b=nd;c("<li/>").addClass("mvp-menu-item").attr("data-label",nd).text(nd).on("click",sa).appendTo(pc);for(a=0;a<d;a++){var x=k.subtitles[a];c("<li/>").addClass("mvp-menu-item").attr({"data-value":x.value,
"data-label":x.label}).text(x.label).on("click",sa).appendTo(pc);x["default"]&&(b=x.label)}n.setSubtitle(b);qc.show();Zf.removeClass("mvp-force-hide")}function sa(){if(c(this).hasClass("mvp-menu-active"))return!1;La&&La.removeClass("mvp-menu-active");La=c(this).addClass("mvp-menu-active");var a=La.attr("data-label");n.setSubtitle(a);bb&&(P.find(".mvp-settings-menu").hide(),cb.show())}function W(a){c.ajax({url:a.src}).done(function(d){d=d.split(/[\r\n]/);var c;for(c in d){var b=d[c];if(/.vtt/.test(b)){a.src=
a.src.substr(0,a.src.lastIndexOf("/")+1)+b;var h=!0;break}}h?Uf(a):console.log("Error loading subtitle!")}).fail(function(a,c,b){console.log(a,c,b)})}function Uf(a){db=[];var d=a.src;-1!=d.indexOf("ebsfm:")&&(d=atob(d.substr(6)));c.ajax({url:d}).done(function(d){d=d.replace(/\r\n|\r|\n/g,"\n");d=MVPUtils.strip(d);d=d.split("\n\n");var c,b=0,F;for(c in d){var f=d[c].split("\n");if("WEBVTT"!=f){if(2<=f.length)if(2<f.length){var e=MVPUtils.strip(f[1].split(" --\x3e ")[0]);var g=MVPUtils.strip(f[1].split(" --\x3e ")[1]);
var k=f[2];if(2<f.length)for(F=3;F<f.length;F++)k+="\n"+f[F]}else e=MVPUtils.strip(f[0].split(" --\x3e ")[0]),g=MVPUtils.strip(f[0].split(" --\x3e ")[1]),k=f[1];db[b]={};db[b].start=MVPUtils.toSeconds(e);db[b].end=MVPUtils.toSeconds(g);db[b].text=k;b++}}be[a.label]=db;rc=!0}).fail(function(a,d,c){console.log(a,d,c)})}function sh(){Ja=[];c.ajax({url:k.chapters}).done(function(a){a=a.replace(/\r\n|\r|\n/g,"\n");a=MVPUtils.strip(a);a=a.split("\n\n");var d,c=0,b;for(d in a){var h=a[d].split("\n");if("WEBVTT"!=
h){if(2<=h.length)if(2<h.length){var f=MVPUtils.strip(h[1].split(" --\x3e ")[0]);var e=MVPUtils.strip(h[1].split(" --\x3e ")[1]);var g=h[2];if(2<h.length)for(b=3;b<h.length;b++)g+="\n"+h[b]}else f=MVPUtils.strip(h[0].split(" --\x3e ")[0]),e=MVPUtils.strip(h[0].split(" --\x3e ")[1]),g=h[1];Ja[c]={};Ja[c].start=MVPUtils.toSeconds(f);Ja[c].end=MVPUtils.toSeconds(e);Ja[c].text=g;c++}}}).fail(function(a,d,c){console.log("Error loading chapters: ",a.responseText,d,c)})}function Vf(a){console.log("makeChapters");
var d,b=Ja.length;for(d=0;d<b;d++){var x=Ja[d];var h=Math.abs(x.end-x.start);h=h/a*100;var f=x.start/a*100;x=c('<div class="mvp-chapter-indicator"><div class="mvp-chapter-indicator-highlight"></div></div>').css({width:h+"%",left:f+"%"}).attr({"data-title":x.text,"data-start":x.start,"data-end":x.end});Ja[d].chapter=x;G||x.on("mouseenter",function(){var a=c(this);a.find(".mvp-chapter-indicator-highlight").addClass("mvp-chapter-indicator-highlight-visible");Ec.css("opacity",1).text(a.attr("data-title"));
T||H.hide()}).on("mouseleave",function(){c(this).find(".mvp-chapter-indicator-highlight").removeClass("mvp-chapter-indicator-highlight-visible");Ec.css("opacity",0);T||H.show()}).appendTo(Cb)}}function Wf(a){var d,b=hb.length;for(d=0;d<b;d++){var x=hb[d];var h=Math.round(x.begin/a*100);x.marker=c('<div class="mvp-ad-indicator"></div>').css({left:h+"%"}).appendTo(Cb)}}function th(){Eb=[];c.ajax({url:k.previewSeek}).done(function(a){a=a.replace(/\r\n|\r|\n/g,"\n");a=MVPUtils.strip(a);a=a.split("\n\n");
var d,c=0;for(d in a){var b=a[d].split("\n");if("WEBVTT"!=b){if(2<=b.length){var h=MVPUtils.strip(b[0].split(" --\x3e ")[0]);var f=MVPUtils.strip(b[0].split(" --\x3e ")[1]);b=b[1];Eb[c]={};Eb[c].start=MVPUtils.toSeconds(h);Eb[c].end=MVPUtils.toSeconds(f);Eb[c].url=b}c++}}}).fail(function(a,d,c){console.log(a,d,c)})}function uh(a){a.preventDefault();if(!t)return!1;a=c(a.currentTarget);if(a.hasClass("mvp-playback-toggle")||a.hasClass("mvp-big-play"))n.togglePlayback();else if(a.hasClass("mvp-playlist-toggle"))$f();
else if(a.hasClass("mvp-info-toggle"))Jc();else if(a.hasClass("mvp-info-close"))Jc(!1);else if(a.hasClass("mvp-embed-toggle"))od();else if(a.hasClass("mvp-share-close"))Kc(!1);else if(a.hasClass("mvp-pwd-confirm")){var d=ce.val();if(MVPUtils.isEmpty(d))alert(Ve);else if("undefined"===typeof md5){a=document.createElement("script");a.type="text/javascript";a.src=MVPUtils.qualifyURL(Ma+"js/scripts/md5.min.js");a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(md5(d)!=
k.pwd?alert(Ve):(delete k.pwd,pd.hide(),ce.val(""),"video"==f&&E?va():Xb(!0)))};a.onerror=function(){alert("Error loading "+this.src)};var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}else md5(d)!=k.pwd?alert(Ve):(delete k.pwd,pd.hide(),ce.val(""),"video"==f&&E?va():Xb(!0))}else if(a.hasClass("mvp-embed-close"))od(!1);else if(a.hasClass("mvp-previous-toggle"))ld();else if(a.hasClass("mvp-next-toggle"))Vb();else if(a.hasClass("mvp-loop-toggle"))N.setLooping();else if(a.hasClass("mvp-shuffle-toggle"))N.setRandom();
else if(a.hasClass("mvp-rewind-toggle"))n.seek(0);else if(a.hasClass("mvp-seek-backward"))n.seekBackward();else if(a.hasClass("mvp-seek-forward"))n.seekForward();else if(a.hasClass("mvp-share-toggle"))Kc();else if(a.hasClass("mvp-pip-toggle"))if(ag)if(document.pictureInPictureElement)try{document.exitPictureInPicture()}catch(x){}else try{m.requestPictureInPicture()}catch(x){}else m.webkitSupportsPresentationMode&&"function"===typeof m.webkitSetPresentationMode&&m.webkitSetPresentationMode("picture-in-picture"===
m.webkitPresentationMode?"inline":"picture-in-picture");else a.hasClass("mvp-share-item")&&z(a.attr("data-type").toLowerCase());G&&(ha&&clearTimeout(ha),ha=setTimeout(function(){clearTimeout(this);ha=null;Lc()},4E3))}function bg(a){a.preventDefault();if(!t)return!1;a=c(a.currentTarget);if(X&&X.is(a))return!1;We=!0;a=r.find(".mvp-playlist-item").index(a);N.processPlaylistRequest(a);c(n).trigger("clickPlaylistItem",{instance:n,instanceName:M});cg?(a=I.offset().top,ua.scrollTop()>a&&c("html,body").animate({scrollTop:a},
500)):G&&J.hasClass("mvp-playlist-holder-bottom")&&(a=I.offset().top,ua.scrollTop()>a&&c("html,body").animate({scrollTop:a},500))}function dg(a){a.preventDefault();if(!t)return!1;a=c(a.currentTarget);if(!G&&a.attr("data-hover-preview")){var d=a.find(".mvp-thumbimg");d.attr("data-src",d.attr("src")).attr("src",a.attr("data-hover-preview"))}if(X&&X.is(a))return!1;a.addClass("mvp-playlist-item-selected")}function eg(a){a.preventDefault();if(!t)return!1;a=c(a.currentTarget);if(!G&&a.attr("data-hover-preview")){var d=
a.find(".mvp-thumbimg");d.attr("src",d.attr("data-src"))}if(X&&X.is(a))return!1;a.removeClass("mvp-playlist-item-selected")}function qd(){X.removeClass("mvp-playlist-item-selected");c(n).trigger("playlistItemEnabled",{instance:n,instanceName:M});X=null}function Ah(){X&&qd();tb=N.getCounter();X=r.children(".mvp-playlist-item").eq(tb);if(X.length){X.addClass("mvp-playlist-item-selected");if(Ib&&0<A){if(!We)if("scroll"==eb)if("undefined"!==typeof mCustomScrollbar)"horizontal"==za?ia.mCustomScrollbar("scrollTo",
parseInt(X.position().left),{scrollInertia:500}):ia.mCustomScrollbar("scrollTo",parseInt(X.position().top),{scrollInertia:500});else var a=setInterval(function(){"undefined"!==typeof mCustomScrollbar&&(clearInterval(a),"horizontal"==za?ia.mCustomScrollbar("scrollTo",parseInt(X.position().left),{scrollInertia:500}):ia.mCustomScrollbar("scrollTo",parseInt(X.position().top),{scrollInertia:500}))},500);else if("buttons"==eb){if("horizontal"==za)var d=J.width(),b=r.width(),x="translateX";else d=J.height(),
b=r.height(),x="translateY";if(b<d)return;Ra.show();Na.show();var h=-r.find(".mvp-playlist-item").index(X)*wa;0<=h?(h=0,Ra.hide()):h<=d-b&&(h=d-b,Na.hide());Sa=h;r.one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){Yb=!1}).css({"-webkit-transform":""+x+"("+h+"px)","-ms-transform":""+x+"("+h+"px)",transform:""+x+"("+h+"px)"})}We=!1}c(n).trigger("playlistItemDisabled",{instance:n,instanceName:M})}}function fg(a){a.preventDefault();if(!t||!f||!ub||"youtube"==f&&"default"==
la||"vimeo"==f&&"default"==ba)return!1;Jb()}function gg(a){if(a.relatedTarget||a.toElement){a.preventDefault();if(!t||!f||"youtube"==f&&"default"==la||"vimeo"==f&&"default"==ba)return!1;T&&Lc()}}function Jb(){!k||!pa||Q||"youtube"==f&&"default"==la||"vimeo"==f&&"default"==ba||(Ka.addClass("mvp-interface-visible"),qa&&Kb.addClass("mvp-subtitle-bottom"),ub=!1,G&&(ha&&clearTimeout(ha),ha=setTimeout(function(){clearTimeout(this);ha=null;Lc()},4E3)))}function Lc(){!T||Q||"youtube"==f&&"default"==la||"vimeo"==
f&&"default"==ba||(Ka.removeClass("mvp-interface-visible"),qa&&Kb.removeClass("mvp-subtitle-bottom"),U.hide(),rd.removeClass("mvp-menu-bottom"),sd.removeClass("mvp-menu-bottom"),td.removeClass("mvp-menu-bottom"),Ec.css("opacity",0),ub=!0)}function ud(a){ha&&clearTimeout(ha);a&&(hg!=a.clientX&&(Jb(),document.body.style.cursor="default"),hg=a.clientX);ha=setTimeout(function(){clearTimeout(this);ha=null;T&&(Lc(),document.body.style.cursor="none")},4E3)}function Jc(a){if("undefined"!==typeof a){if(ib&&
1==a||!ib&&0==a)return!1;ib=!a}vb&&od(!1);jb&&Kc(!1);bb&&(P.hide().removeClass("mvp-menu-bottom").find(".mvp-settings-menu").css("display","none"),cb.show());ib?(Xe.hide(),wb&&(n.playMedia(),wb=!1)):(T&&(n.pauseMedia(),wb=!0),Xe.show());ib=!ib}function Kc(a){if("undefined"!==typeof a){if(jb&&1==a||!jb&&0==a)return!1;jb=!a}ib&&Jc(!1);vb&&od(!1);bb&&(P.hide().removeClass("mvp-menu-bottom").find(".mvp-settings-menu").css("display","none"),cb.show());jb?(Ye.hide(),wb&&(n.playMedia(),wb=!1)):(T&&(n.pauseMedia(),
wb=!0),Ye.show());jb=!jb}function od(a){if("undefined"!==typeof a){if(vb&&1==a||!vb&&0==a)return!1;vb=!a}ib&&Jc(!1);jb&&Kc(!1);bb&&(P.hide().removeClass("mvp-menu-bottom").find(".mvp-settings-menu").css("display","none"),cb.show());vb?(Ze.hide(),Zb.text(Zb.attr("data-copy-text")),Lb.text(Lb.attr("data-copy-text")),wb&&(n.playMedia(),wb=!1)):(T&&(n.pauseMedia(),wb=!0),Ze.show());vb=!vb}function ig(a){Y=!0;xb.show();$b?$e():r.find(".mvp-playlist-item, .mvp-global-playlist-data").remove();var d=jg?c(jg).find(a):
c(a);if(0==d.length)return alert("Failed playlist selection! Playlist - "+a+" does not exist. Check activePlaylist option in settings!"),!1;d.find(".mvp-global-playlist-data").length&&(ja=d.find(".mvp-global-playlist-data"),ja.find(".mvp-ad-section").length&&(vd=ja.find(".mvp-ad-section")),ja.find(".mvp-annotation-section").length&&(wd=ja.find(".mvp-annotation-section")),void 0!=ja.attr("data-upnext-time")&&(xd=parseInt(ja.attr("data-upnext-time"),10)),void 0!=ja.attr("data-pwd")&&(yd=ja.attr("data-pwd")),
void 0!=ja.attr("data-display-poster-on-mobile")&&G&&(ac=!0,Mc=yb=zd=R=!1));de=a;c(n).trigger("playlistStartLoad",{instance:n,instanceName:M});Ad=-1;ma=[];Ta=[];if(void 0!=d.attr("data-type")&&"xml"==d.attr("data-type"))Bh(Mb(d));else{var b,x,h;d.children(".mvp-playlist-item").each(function(){x=c(this);h=x.attr("data-type");RegExp(/^image|^audio|^video|^hls|^dash/).test(h)?Ta.push(x.clone()):void 0!=x.attr("data-noapi")?Ta.push(x.clone()):(b=Mb(x),Ta.push(b))});A=Ta.length;Ea()}}function Oa(a){"youtube"==
a?(ra=new MVPYoutubeLoader(b),c(ra).on("MVPYoutubeLoader.END_LOAD",function(a,c){var d,b=c.data.length;for(d=0;d<b;d++){var F=c.data[d];ma.push(F)}ca=c.nextPageToken;kb?af():Ea()}),Nb&&ca&&(ra.setDataFromCache(Mb(c(Nb))),ee=!1)):"vimeo"==a&&(xa=new MVPVimeoLoader(b),c(xa).on("MVPVimeoLoader.END_LOAD",function(a,c){var d,b=c.data.length;for(d=0;d<b;d++){var F=c.data[d];ma.push(F)}ca=c.nextPageToken;kb?af():Ea()}),Nb&&ca&&(xa.setDataFromCache(Mb(c(Nb))),ee=!1))}function Ea(){Ad++;if(Ad>A-1)af();else{var a=
Ta[Ad],d=a.type;d?RegExp(/^youtube/).test(d)?(bf="youtube",ra||Oa("youtube"),ra.setData(a)):RegExp(/^vimeo/).test(d)?(bf="vimeo",xa||Oa("vimeo"),xa.setData(a)):RegExp(/^folder/).test(d)?Ch(a):RegExp(/^iframe/).test(d)?(ma.push(a),Ea()):RegExp(/^image|^audio|^video|^hls|^dash/).test(d)&&(ma.push(a),Ea()):(ma.push(a),Ea())}}function Ch(a){if("file:"==window.location.protocol)return console.log("Reading files from folders locally is not possible! This requires online server connection."),Ea(),!1;var d=
a.type;if("folder_video"==d)var b=["mp4"];else"folder_audio"==d?(a.id3&&(cf=sc=ma.length-1),b=["mp3","wav"]):"folder_image"==d&&(b=["jpg","jpeg","png","gif"]);c.ajax({type:"GET",url:Ma+"includes/folder_parser.php",data:{type:b,dir:a.path,limit:a.limit||100},dataType:"json"}).done(function(b){MVPUtils.keysrt(b,"filename");var h,F=b.length;for(h=0;h<F;h++){var x=b[h];if("folder_audio"==d){if(/mp3|wav/.test(x.basename)){var f=c.extend(!0,{},a);f.type="audio";f.origtype="folder_audio";var e=x.fullpath;
var g={};f.path=[(g.quality="default",g[x.extension]=e,g)];f.poster=e.substr(0,e.lastIndexOf("/")+1)+"poster/"+x.filename+".jpg";f.thumb||(f.thumb=f.poster.replace(/\/poster\//,"/thumb/"));f.share||(f.share=e);f.title||(f.title=x.filename);ma.push(f);sc++}}else"folder_video"==d?/mp4/.test(x.basename)&&(f=c.extend(!0,{},a),f.type="video",f.origtype="folder_video",e=x.fullpath,f.path=[{quality:"default",mp4:e}],f.poster=e.substr(0,e.lastIndexOf("/")+1)+"poster/"+x.filename+".jpg",f.thumb||(f.thumb=
f.poster.replace(/\/poster\//,"/thumb/")),f.share||(f.share=e),f.title||(f.title=x.filename),ma.push(f)):"folder_image"==d&&/jpg|jpeg|png|gif/.test(x.basename)&&(f=c.extend(!0,{},a),f.type="image",f.origtype="folder_image",e=x.fullpath,f.path=[{quality:"default",image:e}],f.thumb||(f.thumb=e.substr(0,e.lastIndexOf("/")+1)+"thumb/"+x.filename+".jpg"),f.share||(f.share=e),f.title||(f.title=x.filename),ma.push(f))}"folder_audio"==d?a.id3?fe():Ea():Ea()}).fail(function(a,d,c){console.log(a,d,c);Ea()})}
function fe(){if("undefined"===typeof jsmediatags){var a=document.createElement("script");a.type="text/javascript";a.src=MVPUtils.qualifyURL(Ma+"js/scripts/jsmediatags.min.js");a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||fe()};a.onerror=function(){alert("Error loading "+this.src)};var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(a,d)}else{var c=ma[sc];jsmediatags.read(c.path[0].mp3||c.path[0].wav,{onSuccess:function(a){var d=a.tags;
a=d.picture;d.artist&&(c.artist=d.artist);d.title&&(c.title=d.title);d.album&&(c.album=d.album);if(a){d="";var b,F=a.data.length;for(b=0;b<F;b++)d+=String.fromCharCode(a.data[b]);c.thumb="data:"+a.format+";base64,"+window.btoa(d)}sc--;sc>cf?fe():Ea()},onError:function(a){console.log("ID3 error: ",a.type,a.info);sc--;sc>cf?fe():Ea()}})}}function Bh(a){c.ajax({type:"GET",url:a.path,dataType:"html"}).done(function(a){var d,b,h;c(a).children(".mvp-playlist-item").each(function(){d=c(this);b=d.attr("data-type");
RegExp(/^image|^audio|^video|^hls|^dash/).test(b)?Ta.push(d):void 0!=d.attr("data-noapi")?Ta.push(d):(h=Mb(d),Ta.push(h))});A=Ta.length;Ea()}).fail(function(a,c,b){console.log(a,c,b);Ea()})}function af(){var a,d=ma.length,b,f=0;for(a=0;a<d;a++){Nc&&f++;var h=ma[a];var e=h.type;if(h instanceof c&&h.hasClass("mvp-playlist-item"))e=h;else{h.origclasses||(h.origclasses="mvp-playlist-item");e=c('<div class="'+h.origclasses+'"/>').attr("data-type",e);delete h.origclasses;var g=null;if("youtube"==h.type)h.snippet.thumbnails&&
(h.snippet.thumbnails.medium?g=h.snippet.thumbnails.medium.url:h.snippet.thumbnails.high?g=h.snippet.thumbnails.high.url:h.snippet.thumbnails.standard&&(g=h.snippet.thumbnails.standard.url));else if("vimeo"==h.type){var k=h.pictures.sizes;var l=k.length;for(b=0;b<l;b++)if(295==k[b].width){g=k[b].link;break}else if(640==k[b].width){g=k[b].link;break}}else g=h.thumb;g||(g=h.thumbDefault);g&&(b=c("<div/>").addClass("mvp-playlist-thumb").appendTo(e),k=h.alt?h.alt:h.title?h.title.replace(/"/g,"'"):"image",
c(new Image).addClass("mvp-thumbimg").appendTo(b).attr({src:g,alt:k}),e.attr("data-thumb",g));if(h.title||h.description||h.publishedAt)for(g=c('<div class="mvp-playlist-info"></div>').appendTo(e),b=kg.length,k=0;k<b;k++)l=kg[k],"title"==l&&h.title?(l=h.title.replace(/"/g,"'"),c('<span class="mvp-playlist-title">'+l+"</span>").appendTo(g),e.attr("data-title",l)):"date"==l&&h.publishedAt?(l=new Date(h.publishedAt),l=l.getMonth()+1+"/"+l.getDate()+"/"+l.getFullYear(),c('<span class="mvp-playlist-published-date">'+
l+"</span>").appendTo(g)):"description"==l&&h.description&&(l=h.description.replace(/"/g,"'"),e.attr("data-description",l),0<lg&&(l=l.substr(0,lg)+"..."),c('<span class="mvp-playlist-description">'+l+"</span>").appendTo(g));if(h.subtitles)for(g=c('<div class="mvp-subtitles"></div>').appendTo(e),b=h.subtitles.length,k=0;k<b;k++){l=h.subtitles[k];var m='<div data-label="'+l.label+'" data-src="'+l.src+'"';m=l["default"]?m+" data-default></div>":m+"></div>";c(m).appendTo(g)}if("iframe"==h.type)e.attr("data-path",
h.path);else if("video"==h.type||"audio"==h.type||"image"==h.type){b=h.path.length;m="[";for(k=0;k<b;k++)l=h.path[k],m+='{"quality": "'+l.quality+'", "'+l.ext+'": "'+l.src+'"}',k<b-1&&(m+=",");m+="]";e.attr("data-path",m);h.defaultQuality&&e.attr("data-quality",h.defaultQuality)}h.deeplink&&e.attr("data-deeplink",h.deeplink);h.id&&e.attr("data-path",h.id);h.mp4&&e.attr("data-mp4",h.mp4);h.poster&&e.attr("data-poster",h.poster);h.download&&e.attr("data-download",h.download);h.share&&e.attr("data-share",
h.share);h.duration&&e.attr("data-duration",h.duration);h.start&&e.attr("data-start",h.start);h.end&&e.attr("data-end",h.end);h.aspectRatio&&e.attr("data-aspect-ratio",h.aspectRatio);h.playbackRate&&e.attr("data-playback-rate",h.playbackRate);h.quality&&e.attr("data-quality",h.quality);h.origtype&&("folder_audio"==h.origtype||"folder_video"==h.origtype||"folder_image"==h.origtype)&&e.attr("data-path",JSON.stringify(h.path));h.width&&e.attr("data-width",h.width);h.height&&e.attr("data-height",h.height);
h.is360&&e.attr("data-is360","1");h.customContent&&(e.append(h.customContent),delete h.customContent);h.previewSeek&&e.attr("data-preview-seek",h.previewSeek);h.chapters&&e.attr("data-chapters",h.chapters);h.endLink&&(e.attr("data-end-link",h.endLink),h.endTarget&&e.attr("data-end-target",h.endTarget));h.user&&h.user.account&&e.attr("data-user-account",h.user.account);h.pwd&&e.attr("data-pwd",h.pwd);h.liveStream&&e.attr("data-live-stream",h.liveStream)}if(Nc){p?p.after(e):Oc?e.appendTo(r):r.children("div").eq(Ua).before(e);
var p=e}else e.appendTo(r);if(Ib&&(e.on("click",bg),!G))e.on("mouseenter",dg).on("mouseleave",eg)}$b="exist";A=r.children(".mvp-playlist-item").length;console.log("playlistLength = ",A);"horizontal"==za&&r.width(A*wa);Nc?(a=N.getCounter(),N.setPlaylistItems(A,!1),Ua<=a&&(Oc||N.reSetCounter(a+f)),ge&&!G&&(R=!0),he?(he=!1,N.setCounter(Ua,!1)):ge&&(lb=!1,N.setCounter(Ua,!1))):N.setPlaylistItems(A);c(n).trigger("playlistEndLoad",{instance:n,instanceName:M,nextPageToken:ca});Dh()}function ie(){if("scroll"==
eb){if("undefined"===typeof mCustomScrollbar){if(window.playlistScrollLoading){setInterval(function(){playlistScrollLoading||(clearInterval(this),ie())},100);return}window.playlistScrollLoading=!0;var a=document.createElement("script");a.type="text/javascript";a.src=MVPUtils.qualifyURL(Ma+"js/scripts/jquery.mCustomScrollbar.concat.min.js");a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(ie(),window.playlistScrollLoading=!1)};a.onerror=function(){alert("Error loading "+
this.src)};var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(a,d);return}ia.mCustomScrollbar({axis:"horizontal"==za?"x":"y",theme:b.playlistScrollTheme,scrollInertia:0,scrollButtons:{enable:!0},mouseWheel:{normalizeDelta:!0,deltaFactor:50,preventDefault:!0},keyboard:{enable:!1},advanced:{autoExpandHorizontalScroll:!0},callbacks:{onOverflowYNone:function(){ia.find(".mCSB_container").addClass("mvp-mCSB_full")},onOverflowY:function(){ia.find(".mCSB_container").removeClass("mvp-mCSB_full")},
onTotalScroll:function(){Ob&&ca&&!Y&&(Y=!0,xb.show(),kb=!0,ma=[],"youtube"==f?(ra||Oa("youtube"),ra.resumeLoad(ca)):"vimeo"==f&&(xa||Oa("vimeo"),xa.resumeLoad(ca)))},alwaysTriggerOffsets:!1}})}else if("buttons"==eb){if(!G)ia.on("mousewheel DOMMouseScroll",function(a){if(!t||Y||!bc)return!1;if("horizontal"==za)var d=ia.width(),c=r.width(),b="translateX";else d=ia.height(),c=r.height(),b="translateY";if(!(c<d)){Ra.show();Na.show();if(a.originalEvent.wheelDelta)var e=0<a.originalEvent.wheelDelta?1:-1;
else a.originalEvent.detail&&(e=0>a.originalEvent.detail?1:-1);Sa?a=Sa:(a=r[0].style.transform.replace(/[^\d.]/g,""),a=parseInt(a)||0);a+=Eh*e;0<a?(a=0,Ra.hide()):a<=d-c&&(a=d-c,Na.hide(),Ob&&ca&&!Y&&(Y=!0,xb.show(),kb=!0,ma=[],"youtube"==f?(ra||Oa("youtube"),ra.resumeLoad(ca)):"vimeo"==f&&(xa||Oa("vimeo"),xa.resumeLoad(ca))));Sa=a;r.css({"-webkit-transform":""+b+"("+a+"px)","-ms-transform":""+b+"("+a+"px)",transform:""+b+"("+a+"px)"});return!1}});Ra.on("click",function(){if(!t||Y||Yb)return!1;Yb=
!0;if("horizontal"==za)var a=ia.width(),d=r.width(),c="translateX";else a=ia.height(),d=r.height(),c="translateY";if(!(d<a)){Ra.show();Na.show();Sa?d=Sa:(d=r[0].style.transform.replace(/[^\d.]/g,""),d=parseInt(d)||0);if(0!=d%wa){for(var b=-(d%wa+wa);b<=a-wa;)b+=wa;d+=b}else d+=wa*Math.floor(a/wa);0<=d&&(d=0,Ra.hide());Sa=d;r.one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){Yb=!1}).css({"-webkit-transform":""+c+"("+d+"px)","-ms-transform":""+c+"("+d+"px)",transform:""+
c+"("+d+"px)"})}});Na.on("click",function(){if(!t||Y||Yb)return!1;Yb=!0;if("horizontal"==za)var a=ia.width(),d=r.width(),c="translateX";else a=ia.height(),d=r.height(),c="translateY";if(!(d<a)){Ra.show();Na.show();if(Sa)var b=Sa;else b=r[0].style.transform.replace(/[^\d.]/g,""),b=parseInt(b)||0;if(0!=b%wa){for(var e=b%wa+wa;e<=a-wa;)e+=wa;b-=e}else b-=wa*Math.floor(a/wa);b<=a-d&&(b=a-d,Na.hide(),Ob&&ca&&!Y&&(Y=!0,xb.show(),kb=!0,ma=[],"youtube"==f?(ra||Oa("youtube"),ra.resumeLoad(ca)):"vimeo"==f&&
(xa||Oa("vimeo"),xa.resumeLoad(ca))));Sa=b;r.one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){Yb=!1}).css({"-webkit-transform":""+c+"("+b+"px)","-ms-transform":""+c+"("+b+"px)",transform:""+c+"("+b+"px)"})}});mg&&ng()}else if("hover"==eb){if(!G)ia.on("mousemove",function(a){if(!t||Y||!bc)return!1;if("horizontal"==za){var d=J.width(),c=r.width();if(c<d)return;var b=parseInt(ia.css("left"),10)+J.offset().left;a=(d-c)/d*(a.pageX-b);r.css("left",a+"px")}else{d=J.height();
c=r.height();if(c<d)return;b=parseInt(ia.css("top"),10)+J.offset().top;a=(d-c)/d*(a.pageY-b);r.css("top",a+"px")}return!1});mg&&ng()}df=!0}function ng(){var a,d,c,b,e,g=!1;r.off("touchstart.ap touchmove.ap touchend.ap click.ap-touchclick").on("touchstart.ap",function(h){if(!t||Y)return!1;h=h.originalEvent.touches[0];a=r.position().left;d=r.position().top;c=h.pageX;b=h.pageY;e=!1;g=!0}).on("touchmove.ap",function(h){if(g){h=h.originalEvent.touches[0];Ra.show();Na.show();if("horizontal"==za){var F=
a-c+h.pageX,k=J.width(),x=r.width();if(x<k)return;0<F?(F=0,Ra.hide()):F<=k-x&&(F=k-x,Na.hide(),Ob&&ca&&!Y&&(Y=!0,xb.show(),kb=!0,ma=[],"youtube"==f?(ra||Oa("youtube"),ra.resumeLoad(ca)):"vimeo"==f&&(xa||Oa("vimeo"),xa.resumeLoad(ca))));r.css("left",F+"px")}else{F=d-b+h.pageY;k=J.height();x=r.height();if(x<k)return;0<F?(F=0,Ra.hide()):F<=k-x&&(F=k-x,Na.hide(),Ob&&ca&&!Y&&(Y=!0,xb.show(),kb=!0,ma=[],"youtube"==f?(ra||Oa("youtube"),ra.resumeLoad(ca)):"vimeo"==f&&(xa||Oa("vimeo"),xa.resumeLoad(ca))));
r.css("top",F+"px")}e=e||5<Math.abs(c-h.pageX)||5<Math.abs(b-h.pageY);return!1}}).on("touchend.ap",function(a){g=!1}).on("click.ap-touchclick",function(a){if(e)return e=!1})}function Dh(){xb.hide();Y=!1;if(!t){t=!0;if(og){var a=document.createElement("script");a.type="text/javascript";a.src=MVPUtils.qualifyURL(Ma+"js/scripts/jquery-ui.min.js");a.onload=a.onreadystatechange=function(){if(!this.readyState||"complete"==this.readyState){var a=document.createElement("script");a.type="text/javascript";
a.src=MVPUtils.qualifyURL(Ma+"js/scripts/jquery.ui.touch-punch.min.js");a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||r.sortable()};a.onerror=function(){alert("Error loading "+this.src)};var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(a,d)}};a.onerror=function(){alert("Error loading "+this.src)};var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(a,d)}Ib&&!df&&ie();if(!G)I.on("mouseenter",fg).on("mouseleave",
gg);tc();c(n).trigger("setupDone",{instance:n,instanceName:M});e.css("opacity",1);je&&(ef=MVPUtils.getElementOffsetTop(e[0]),ua.on(pg,function(){Pc||(Pc=!0,qg(),setTimeout(function(){Pc=!1},100))}))}Qc&&Bd&&!ee&&rg();if(Ib){sg&&(tg(),ff=cc,r.find(".mvp-playlist-item").each(function(){if(0<Fa){var a=100/cc;c(this).css({marginLeft:0,marginTop:0,marginRight:Fa+"px",marginBottom:Fa+"px",width:"calc("+a+"% - "+Fa+"px)"})}else c(this).css({marginLeft:0,marginTop:0,marginRight:Fa+"px",marginBottom:Fa+"px",
width:100/cc+"%"})}));var f=[];r.find(".mvp-thumbimg:not(.mvp-visible)").each(function(){f.push(c(this))});var g=0;a=f.length;for(d=0;d<a;d++)setTimeout(function(){clearTimeout(this);f[g].addClass("mvp-visible");g++},50+50*d);b.truncatePlaylistDescription&&("undefined"!==typeof c.fn.dotdotdot?r.find(".mvp-playlist-info:not(.is-truncated)").each(function(){c(this).dotdotdot({watch:b.truncateWatch})}):(a=document.createElement("script"),a.type="text/javascript",a.src=MVPUtils.qualifyURL(Ma+"js/scripts/jquery.dotdotdot.min.js"),
a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||r.find(".mvp-playlist-info:not(.is-truncated)").each(function(){c(this).dotdotdot({watch:b.truncateWatch})})},a.onerror=function(){alert("Error loading "+this.src)},d=document.getElementsByTagName("script")[0],d.parentNode.insertBefore(a,d)))}!ke&&!Nc&&0<A&&(a=b.activeItem,a>A-1&&(a=A-1),-1<a&&N.setCounter(a,!1),ke=!0);Nc=!1;kb&&(kb=!1,"buttons"==eb&&Na.show())}function tg(){var a=e.width(),d,c=Cd.length;for(d=
0;d<c;d++){var b=Cd[d];a>b.width&&(cc=b.column,Fa=b.gutter)}ia.css({paddingTop:Fa+"px",paddingLeft:Fa+"px"})}function Fh(){r.find(".mvp-global-playlist-data").length&&(ja=r.find(".mvp-global-playlist-data").remove(),ja.find(".mvp-ad-section").length&&(vd=ja.find(".mvp-ad-section")),ja.find(".mvp-annotation-section").length&&(wd=ja.find(".mvp-annotation-section")),void 0!=ja.attr("data-upnext-time")&&(xd=parseInt(ja.attr("data-upnext-time"),10)),void 0!=ja.attr("data-pwd")&&(yd=ja.attr("data-pwd")),
void 0!=ja.attr("data-display-poster-on-mobile")&&G&&(ac=!0,Mc=yb=zd=R=!1));A=r.children(".mvp-playlist-item").length;console.log("playlistLength: ",A);if(0<A){r.find(".mvp-playlist-item").each(function(){var a=c(this).on("click",bg);if(!G)a.on("mouseenter",dg).on("mouseleave",eg)});N.setPlaylistItems(A);$b="exist";"horizontal"==za&&r.width(A*wa);var a=[];r.find(".mvp-thumbimg:not(.mvp-visible)").each(function(){a.push(c(this))});var d=0,f=a.length,g;for(g=0;g<f;g++)setTimeout(function(){clearTimeout(this);
a[d].addClass("mvp-visible");d++},50+50*g);b.truncatePlaylistDescription&&("undefined"!==typeof c.fn.dotdotdot?r.find(".mvp-playlist-info:not(.is-truncated)").each(function(){c(this).dotdotdot({watch:b.truncateWatch})}):(f=document.createElement("script"),f.type="text/javascript",f.src=MVPUtils.qualifyURL(Ma+"js/scripts/jquery.dotdotdot.min.js"),f.onload=f.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||r.find(".mvp-playlist-info:not(.is-truncated)").each(function(){c(this).dotdotdot({watch:b.truncateWatch})})},
f.onerror=function(){alert("Error loading "+this.src)},g=document.getElementsByTagName("script")[0],g.parentNode.insertBefore(f,g)))}if(!t){t=!0;og&&(f=document.createElement("script"),f.type="text/javascript",f.src=MVPUtils.qualifyURL(Ma+"js/scripts/jquery-ui.min.js"),f.onload=f.onreadystatechange=function(){if(!this.readyState||"complete"==this.readyState){var a=document.createElement("script");a.type="text/javascript";a.src=MVPUtils.qualifyURL(Ma+"js/scripts/jquery.ui.touch-punch.min.js");a.onload=
a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||r.sortable({helper:"clone"})};a.onerror=function(){alert("Error loading "+this.src)};var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(a,d)}},f.onerror=function(){alert("Error loading "+this.src)},g=document.getElementsByTagName("script")[0],g.parentNode.insertBefore(f,g));Ib&&!df&&ie();if(!G)I.on("mouseenter",fg).on("mouseleave",gg);tc();c(n).trigger("setupDone",{instance:n,instanceName:M});e.css("opacity",
1);je&&(ef=MVPUtils.getElementOffsetTop(e[0]),ua.on(pg,function(){Pc||(Pc=!0,qg(),setTimeout(function(){Pc=!1},100))}))}xb.hide();Y=!1;c(n).trigger("playlistEndLoad",{instance:n,instanceName:M});f=b.activeItem;f>A-1&&(f=A-1);-1<f&&N.setCounter(f,!1);ke=!0}function le(){MVPUtils.isScrolledIntoView(e[0])?(R=uc=!0,n.playMedia()):Rc=setInterval(function(){MVPUtils.isScrolledIntoView(e[0])&&(clearInterval(Rc),Rc=null,R=uc=!0,n.playMedia())},400)}function qg(){MVPUtils.getScrollTop()>ef?e.hasClass(me)||
e.addClass(me):e.hasClass(me)&&e.removeClass(me);tc()}function Gh(){var a=k.path.length;k.quality||(k.quality=k.path[0].quality);var d=0;a:for(;d<a;d++){var c=k.path[d];for(var b in c)if(c[b]==k.quality){"audio"==f?ug&&c.wav?da=c.wav:ug&&"wav"==c.ext?da=c.src:vg&&c.mp3?da=c.mp3:vg&&"mp3"==c.ext&&(da=c.src):"video"==f?wg&&c.mp4?da=c.mp4:wg&&"mp4"==c.ext&&(da=c.src):"image"==f&&(c.image?da=c.image:c.src&&(da=c.src));break a}}-1!=da.indexOf("ebsfm:")&&(da=atob(da.substr(6)))}function va(a){Dd=a;if(f&&
!lb)if(Dd){Pb=!1;Va&&cancelAnimationFrame(Va);Pa&&clearInterval(Pa);O=null;fb&&(fb.removeEventListener("change",ne),fb.reset());if("audio"==f)u&&(O=u.currentTime,u.pause(),u.src=""),vc&&vc.off("ended pause play ratechange loadedmetadata error");else if("video"==f){wc&&"video_360"==D&&Sc&&Sc.hide();if(m){O=m.currentTime;m.pause();try{m.currentTime=0}catch(sb){}m.src="";m=null}Aa&&Aa.off("ended loadedmetadata ratechange waiting playing play pause error seeked")}else"image"==f&&("image_360"==D?(Tc&&
Tc.hide(),oe=!1):(gf.hide().find(".mvp-media").remove(),xc=null));H.hide();pa=T=!1}else dc();if(!Dd&&!lb){k=pe?pe:Uc?Uc:Mb(X);pe=null;hf?Vc&&(qe?(k=Mb(qe),Q=!0):Wc&&Ed&&(k=Mb(Wc),Q=!0,Wc=null)):(hf=!0,vd?Vc=vd:k.adSection&&(Vc=k.adSection),Vc&&(Uc=k,Vc.find(".mvp-ad").each(function(){var a=c(this);if(a.hasClass("mvp-ad-pre"))Q=!0,k=Mb(a);else if(a.hasClass("mvp-ad-mid")){var d=parseInt(a.attr("data-begin"),10);hb.push({begin:d,data:a})}else a.hasClass("mvp-ad-end")&&(Wc=a)})));"youtube_single"==k.type?
k.type="youtube":"vimeo_single"==k.type&&(k.type="vimeo");f=k.type;"video_360"==f?(f="video",D="video_360"):"image_360"==f&&(f="image",D="image_360");ya=void 0!=k.aspectRatio?k.aspectRatio:b.aspectRatio;k.subtitles&&Cc();if(!jf&&!Q&&(jf=!0,wd?Fd=wd:k.annotationSection&&(Fd=k.annotationSection),Fd)){var d=0;Fd.find(".mvp-annotation").each(function(){var a=c(this).clone().attr("data-id",d++).appendTo(ec);a.hasClass("mvp-adsense-detail")?(c('<ins class="adsbygoogle" style="display:inline-block;width:'+
a.attr("data-width")+"px;height:"+a.attr("data-height")+'px" data-ad-client="'+a.attr("data-ad-client")+'" data-ad-slot="'+a.attr("data-ad-slot")+'"></ins>').prependTo(a),re=!0):a.hasClass("mvp-adsense-code")&&(re=!0);Xc.push({start:isNaN(parseInt(a.attr("data-show"),10))?0:parseInt(a.attr("data-show"),10),end:isNaN(parseInt(a.attr("data-hide"),10))?1E5:parseInt(a.attr("data-hide"),10),item:a})});ec.show();if(re)if("undefined"===typeof adsbygoogle){if("file:"!=window.location.protocol){var e=document.createElement("script");
e.type="text/javascript";e.src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";e.onload=e.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||ec.find(".adsbygoogle").each(function(){(adsbygoogle=window.adsbygoogle||[]).push({})})};e.onerror=function(){alert("Error loading "+this.src)};a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)}}else ec.find(".adsbygoogle").each(function(){(adsbygoogle=window.adsbygoogle||[]).push({})})}k.chapters&&
(sh(),Da.addClass("mvp-seekbar-chapters"),Ec.css("display","block"));!G&&k.previewSeek&&th();if(xd&&(a=X.next(),0==a.length&&b.loopingOn&&(a=r.find(".mvp-playlist-item").eq(0)),a.length)){var g;void 0!=a.attr("data-thumb")?g=a.attr("data-thumb"):a.find(".mvp-thumbimg").length&&(g=a.find(".mvp-thumbimg").attr("src"));var h;void 0!=a.attr("data-title")?h=a.attr("data-title"):a.find(".mvp-playlist-title").length&&(h=a.find(".mvp-playlist-title").html());if(g||h)g&&kf.css("background-image","url("+g+
")"),h&&lf.html(h),mb.addClass("mvp-upnext-on")}"lightbox"==$a&&(nb.css("display","block"),"normal"==Wa&&(g=fc.width()/yc,fc.height(g)),1!=nb.css("opacity")&&setTimeout(function(){clearTimeout(this);nb.css("opacity",1)},50));if("audio"==f)if(k.poster&&!lb){lb=!0;c(new Image).addClass("mvp-media").appendTo(se.show()).on("load",function(){E=c(this);MVPAspectRatio.resizeMedia("image",ya,I,E);E.addClass("mvp-visible")}).on("error",function(a){console.log(a)}).attr("src",k.poster);if(ac)return;if(!R){H.show();
return}}else se.show();else if(!("video"!=f&&"youtube"!=f&&"vimeo"!=f||yb&&!uc||R||!k.poster||lb)){lb=!0;var l;"video"==f?l=gc:"youtube"==f?l=hc:"vimeo"==f&&(l="default"==xg?te:ue);c(new Image).addClass("mvp-media").appendTo(l.show()).on("load",function(){E=c(this);MVPAspectRatio.resizeMedia("image",ya,I,E);E.addClass("mvp-visible");ac||H.show()}).on("error",function(a){console.log(a)}).attr("src",k.poster);Q||k.pwd&&pd.show();return}}lb&&(O=k.start||0,lb=!1);Gd&&!Q&&(O=Gd,Gd=null);b.playbackPositionTime&&
(O=b.playbackPositionTime,delete b.playbackPositionTime);if("audio"==f||"video"==f||"image"==f){if(Gh(),Dd||(l=fa(),ve&&1==l.length||ea(l,k.quality)),("video_360"==D||"image_360"==D)&&"undefined"===typeof THREE){e=document.createElement("script");e.type="text/javascript";e.src=MVPUtils.qualifyURL(Ma+"js/scripts/three.min.js");e.onload=e.onreadystatechange=function(){if(!this.readyState||"complete"==this.readyState){var a=document.createElement("script");a.type="text/javascript";a.src=MVPUtils.qualifyURL(Ma+
"js/scripts/orbitControls.min.js");a.onload=e.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||Xb()};a.onerror=function(){alert("Error loading "+this.src)};var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(a,d)}};e.onerror=function(){alert("Error loading "+this.src)};a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a);return}}else if("hls"==f){if(da=k.path,f="video",D="hls",!yg){"undefined"===typeof Hls?(e=document.createElement("script"),
e.type="text/javascript",e.src="https://cdn.jsdelivr.net/npm/hls.js@latest",e.onload=e.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(zg(),Xb())},e.onerror=function(){alert("Error loading "+this.src)},a=document.getElementsByTagName("script")[0],a.parentNode.insertBefore(e,a)):(zg(),Xb());return}}else if("dash"==f&&(da=k.path,f="video",D="dash",!Ag)){"undefined"===typeof dashjs?(e=document.createElement("script"),e.type="text/javascript",e.src="https://cdn.dashjs.org/latest/dash.all.min.js",
e.onload=e.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(Bg(),Xb())},e.onerror=function(){alert("Error loading "+this.src)},a=document.getElementsByTagName("script")[0],a.parentNode.insertBefore(e,a)):(Bg(),Xb());return}Xb()}function Xb(a){if(!Q&&k.pwd)pd.show();else{a&&(Mc&&(R=!0),zd&&(R=!0));if("audio"==f)Cg||(vc=c(document.createElement("audio")).attr("preload",Dg),u=vc[0],Cg=!0),u.src=da,vc.on("ended",function(){ic()}).on("loadedmetadata",function(){k.playbackRate?
u.playbackRate=Number(k.playbackRate):oa(1);if(mf)var a=setInterval(function(){3<=u.readyState&&(clearInterval(a),null!=O?u.currentTime=O:null!=k.start&&(u.currentTime=k.start))},100);else null!=O?u.currentTime=O:null!=k.start&&(u.currentTime=k.start);if(null!=O){var d=u.play();void 0!==d&&d.then(function(a){})["catch"](function(a){H.show()})}else R?(d=u.play(),void 0!==d&&d.then(function(a){})["catch"](function(a){H.show()})):H.show();O=null;yb&&!uc&&le()}).on("play",function(){we()}).on("pause",
function(){xe()}).on("ratechange",function(){oa(u.playbackRate)}).on("error",function(a){c(n).trigger("mediaError",{instance:n,instanceName:M,counter:tb})}),R&&u.load();else if("video"==f){k.posterFrameTime&&(da+="#t="+k.posterFrameTime);if(nf)gc.show(),Aa=gc.find(".mvp-media"),m=Aa[0];else{var d=" playsinline";of&&(d="");a='<video class="mvp-media" preload="'+Dg+'"'+d+">";a+='<source src="'+da+'" />';a+="</video>";gc.show().html(a);Aa=gc.find(".mvp-media");m=Aa[0];Hd&&g(0)}if(wc&&"video_360"==D&&
("file:"==window.location.protocol&&console.log("Playing 360 video and images requires online server connection!"),!Eg)){jc=new THREE.WebGLRenderer({antialias:!0});jc.setSize(640,360);jc.domElement.className+="mvp-canvas-video";Ca.prepend(c(jc.domElement));Sc=Ca.find(".mvp-canvas-video");Yc=new THREE.Texture(m);Yc.minFilter=THREE.LinearFilter;Yc.magFilter=THREE.LinearFilter;Yc.format=THREE.RGBFormat;pf=new THREE.Scene;a=new THREE.SphereGeometry(500,60,40);a.scale(-1,1,1);var e=new THREE.MeshBasicMaterial({map:Yc});
a=new THREE.Mesh(a,e);pf.add(a);Eg=!0}Aa.on("ended",function(){ic()}).on("loadedmetadata",function(){MVPAspectRatio.resizeMedia("video",ya,I,Aa);Aa.addClass("mvp-visible");k.playbackRate?m.playbackRate=Number(k.playbackRate):oa(1);if(mf)var a=setInterval(function(){3<=m.readyState&&(clearInterval(a),null!=O?m.currentTime=O:null!=k.start&&(m.currentTime=k.start))},100);else null!=O?m.currentTime=O:null!=k.start&&(m.currentTime=k.start);if(null!=O){var d=m.play();void 0!==d&&d.then(function(a){})["catch"](function(a){H.show()})}else R?
(d=m.play(),void 0!==d&&d.then(function(a){})["catch"](function(a){H.show()})):H.show();O=null;Aa.find("source").remove();yb&&!uc&&le()}).on("waiting",function(){G&&"hls"==D||G&&"dash"==D||gb.show()}).on("playing",function(){gb.hide()}).on("play",function(){we()}).on("pause",function(){xe()}).on("seeking",function(){Pb=!1}).on("seeked",function(){gb.hide();wc&&"video_360"==D&&(Pb=!0,Va=requestAnimationFrame(qf))}).on("ratechange",function(){oa(m.playbackRate)}).on("error",function(a){switch(a.target.error.code){case a.target.error.MEDIA_ERR_ABORTED:console.log("You aborted the video playback.");
break;case a.target.error.MEDIA_ERR_NETWORK:console.log("A network error caused the video download to fail part-way.");break;case a.target.error.MEDIA_ERR_DECODE:console.log("The video playback was aborted due to a corruption problem or because the video used features your browser did not support.");break;case a.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:console.log("The video could not be loaded, either because the server or network failed or because the format is not supported.");break;default:console.log("An unknown error occurred.")}});
if("hls"==D)if(rf)V.attachMedia(m);else if(m.canPlayType("application/vnd.apple.mpegurl"))m.src=da;else if(k.mp4)m.src=k.mp4,m.load();else try{m.src=da,m.load()}catch(ni){alert("This browser or device does not support HLS extension. Please use mp4 video for playback!")}else"dash"==D?Fg?Gg?Qa.attachSource(da):(Qa.initialize(m,da,R),Gg=!0):k.mp4?(m.src=k.mp4,m.load()):alert("This browser or device does not support MPEG-DASH extension. Please use mp4 video for playback!"):(m.src=da,m.load());Hh&&!nf&&
(a=m.play(),void 0!==a&&a.then(function(a){})["catch"](function(a){H.show()}));nf=!0}else if("image"==f)"image_360"==D?("file:"==window.location.protocol&&console.log("Playing 360 video and images requires online server connection!"),Hg||(Id=new THREE.Scene,a=new THREE.SphereBufferGeometry(500,60,40),a.scale(-1,1,1),sf=new THREE.TextureLoader,tf=new THREE.MeshBasicMaterial({map:sf}),Ig=new THREE.Mesh(a,tf),Id.add(Ig),ob=new THREE.WebGLRenderer,ob.setPixelRatio(window.devicePixelRatio),ob.setSize(640,
360),ob.domElement.className+="mvp-canvas-image",Ca.prepend(c(ob.domElement)),Tc=Ca.find(".mvp-canvas-image"),ye||(ye=!0,na=new THREE.PerspectiveCamera(90,640/360,.1,1E4),na.position.x+=.1,fb=new THREE.OrbitControls(na,Ca[0]),fb.enableZoom=!1),Hg=!0),sf.load(da,function(a){Tc.show();tf.map=a;a=Ca.width();var d=Ca.height();ob.setSize(a,d);na.aspect=a/d;na.updateProjectionMatrix();fb.addEventListener("change",ne);ob.render(Id,na);T=pa=!0;Jd.show();oe=Kd=!0;k.duration&&(Qb&&clearTimeout(Qb),Qb=setTimeout(function(){clearTimeout(this);
ic()},1E3*k.duration))},function(a){},function(a){})):(gb.show(),c(new Image).addClass("mvp-media").prependTo(gf.show()).on("load",function(){gb.hide();xc=c(this);MVPAspectRatio.resizeMedia("image",ya,I,xc);xc.addClass("mvp-visible");T=pa=!0;k.duration&&(uf=(new Date).getTime(),Ld=1E3*k.duration,Qb&&clearTimeout(Qb),Qb=setTimeout(function(){clearTimeout(this);ic()},1E3*k.duration))}).on("error",function(a){console.log(a)}).attr("src",da)),Q?k.duration&&(vf.show(),Md=wf.width(),Pa&&clearInterval(Pa),
Pa=setInterval(Se,250)):Ka.show();else if("youtube"==f){if(Jg)xf&&(a=0,null!=O?a=O:null!=k.start&&(a=k.start),R?y.loadVideoById({videoId:k.path,startSeconds:a,endSeconds:k.end,suggestedQuality:k.quality}):y.cueVideoById({videoId:k.path,startSeconds:a,endSeconds:k.end,suggestedQuality:k.quality}));else{a=window.location.href.split("/");a=a[0]+"//"+a[2];var x=b.youtubeNoCookie?"//www.youtube-nocookie.com/embed/":"//www.youtube.com/embed/";d="1";of&&(d="0");var h="ytplayer"+Math.floor(16777215*Math.random()),
l="https:"==window.location.protocol?"https:":"http:",p="&controls=0",q="&color="+b.youtubePlayerColor,r="&showinfo=0",v="&modestbranding=1";e="&origin="+a;"chromeless"!=la&&(p="&controls=1",r="&showinfo=1",v="&modestbranding=1");d=l+x+k.path+"?enablejsapi=1"+p+"&rel=0"+r+("&playsinline="+d)+v+"&wmode=transparent&iv_load_policy=3&cc_load_policy=0"+q;/^http/.test(a)&&(d+=e);null!=O?d+="&start="+O:k.start&&(d+="&start="+k.start);k.end&&(d+="&end="+k.end);zb=c("<iframe/>",{id:h,frameborder:0,src:d,width:"100%",
height:"100%",webkitAllowFullScreen:!0,mozallowfullscreen:!0,allowFullScreen:!0,allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"}).css("position","absolute");"chromeless"==la&&Ih&&zb.addClass("mvp-yt-clean");hc.show().prepend(zb);window.YT||(a=document.createElement("script"),a.src="https://www.youtube.com/iframe_api",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(a,e));var t=setInterval(function(){window.YT&&window.YT.Player&&(t&&clearInterval(t),
y=new YT.Player(h,{events:{onReady:Jh,onPlaybackQualityChange:Kh,onPlaybackRateChange:Lh,onStateChange:Mh,onError:Nh}}))},100);Jg=!0}hc.show();"chromeless"==la&&2==ya&&k.width&&k.height&&(zb.sw=k.width,zb.sh=k.height,MVPAspectRatio.resizeMedia("iframe",ya,hc,zb))}else"vimeo"==f?("file:"==window.location.protocol&&console.log("Playing Vimeo requires online server connection!"),ba="chromeless"==xg?k.userAccount?"basic"==k.userAccount?"default":"chromeless":"default":"default","default"==ba?Kg?(pb=te,
qb=Nd,w=Lg,Mg&&(pb.show(),w.loadVideo(k.path),setTimeout(function(){clearTimeout(this);ze()},500))):(Nd=Ng("0"),te.show().append(Nd),pb=te,qb=Nd,window.Vimeo||(a=document.createElement("script"),a.src="//player.vimeo.com/api/player.js",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(a,e)),t=setInterval(function(){window.Vimeo&&(t&&clearInterval(t),w=Lg=new Vimeo.Player(Nd[0]),w.on("loaded",ze),w.on("play",yf),w.on("pause",Og),w.on("ended",Pg),w.on("error",Qg),"chromeless"==
ba&&(w.on("playbackratechange",Rg),w.on("timeupdate",Sg)),Mg=!0)},100),Kg=!0):(Tg?(pb=ue,qb=Od,w=Ug,Vg&&(pb.show(),w.loadVideo(k.path),setTimeout(function(){clearTimeout(this);ze()},500))):(Od=Ng("1"),ue.show().append(Od),pb=ue,qb=Od,window.Vimeo||(a=document.createElement("script"),a.src="//player.vimeo.com/api/player.js",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(a,e)),t=setInterval(function(){window.Vimeo&&(t&&clearInterval(t),w=Ug=new Vimeo.Player(Od[0]),w.on("loaded",
ze),w.on("play",yf),w.on("pause",Og),w.on("ended",Pg),w.on("error",Qg),w.on("seeked",Oh),"chromeless"==ba&&(w.on("playbackratechange",Rg),w.on("timeupdate",Sg)),Vg=!0)},100),Tg=!0),2==ya&&k.width&&k.height&&(qb.sw=k.width,qb.sh=k.height,MVPAspectRatio.resizeMedia("iframe",ya,pb,qb)))):"iframe"==f&&c('<iframe src="'+k.path+'" style="border: 0px none transparent; width:100%; height:100%;" webkitAllowFullScreen mozallowfullscreen allowFullScreen allow="autoplay"></iframe>').appendTo(Wg.show());if(!Dd){"video"==
f&&(ag||m.webkitSupportsPresentationMode&&"function"===typeof m.webkitSetPresentationMode)&&Zc.show();"audio"==f||"video"==f||"youtube"==f&&"chromeless"==la||"vimeo"==f&&"chromeless"==ba?(console.log(k),k.liveStream?(Rb.hide(),$c.hide(),Sb.hide(),Da.hide(),ad.hide(),bd.hide(),cd.hide()):(Rb.show(),$c.show(),Sb.show(),Da.show(),ad.show(),bd.show(),cd.show()),Ab.show(),Bb.show(),dd.show()):(Ab.hide(),Bb.hide(),dd.hide(),Rb.hide(),$c.hide(),Sb.hide(),Da.hide(),ad.hide(),bd.hide(),cd.hide());if(a=k.title||
k.domTitle)Xg.html(a),Yg.html(a);k.description?(Zg.html(k.description),ed.show()):ed.hide();Ph&&k.download?Pd.show().find("a").attr("href",k.download).attr("download",""):Pd.hide()}("iframe"==f||"youtube"==f&&"default"==la||"vimeo"==f&&"default"==ba)&&Ka.hide();Q?c(n).trigger("adRequest",{instance:n,instanceName:M,adId:k.adId}):c(n).trigger("mediaRequest",{instance:n,instanceName:M,counter:tb})}}function Jh(a){xf=!0;Hd&&(R=!0,g(0));R?!zf&&!Af||$g||Hd?y.playVideo():"wall"==ka&&y.playVideo():null!=
O&&k.poster&&y.playVideo();yb&&!uc&&le()}function Kh(a){Ub(a.data)}function Lh(a){oa(a.data)}function Mh(a){hc.is(":visible")&&-1!=a.data&&(0==a.data?Ae||(Ae=!0,ic()):1==a.data?(Be||(Ae=!1,$g=!0,O=null,k.quality&&y.setPlaybackQuality(k.quality),a=y.getAvailableQualityLevels(),ve&&1==a.length||"chromeless"==la&&ea(a,y.getPlaybackQuality()),k.playbackRate&&1!=k.playbackRate?y.setPlaybackRate(Number(k.playbackRate)):"chromeless"==la&&oa(1),Bf&&(Ce||(Ce=c('<div class="mvp-iframe-blocker"></div>').css("display",
"block").on("click",function(){if(Q)a=y.getPlayerState(),1==a?y.pauseVideo():2==a?y.playVideo():(-1==a||5==a||0==a)&&y.playVideo();else if(Be&&ub)Jb();else{var a=y.getPlayerState();1==a?y.pauseVideo():2==a?y.playVideo():(-1==a||5==a||0==a)&&y.playVideo()}}).appendTo(hc)),k.is360?Ce.css("display","none"):Ce.css("display","block")),Be=!0),"default"==la?T=!0:we()):2==a.data?"default"==la?T=!1:xe():3!=a.data&&5==a.data&&(null!=O&&k.poster?y.playVideo():R&&"outer"==ka&&y.playVideo()))}function Nh(a){switch(a.data){case 2:console.log("Error code = "+
a.data+": The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.");break;case 100:console.log("Error code = "+a.data+": Video not found, removed, or marked as private");break;case 101:console.log("Error code = "+a.data+": Embedding disabled for this video");break;case 150:console.log("Error code = "+a.data+": Video not found, removed, or marked as private [same as error 100]")}}
function Ng(a){var d=MVPUtils.rgbToHex(b.vimeoPlayerColor);"#"==d.charAt(0)&&(d=d.substr(1));var e="1";of&&(e="0");var f=Mc?"1":"0",h="loop"==fd?"1":"0",l="player"+Math.floor(16777215*Math.random());d="?color="+d;h="&loop="+h;e="&playsinline="+e;var m="&muted=0";f="&autoplay="+f;a="&background="+a;Hd&&(m="&muted=1",f="&autoplay=1",R=!0,g(0));d="https://player.vimeo.com/video/"+k.path+d+"&byline=1&portrait=1&title=1&autopause=1"+e+h+"&dnt=1"+a+"&speed=1"+m+f;k.quality&&(d+="&quality="+k.quality);return c("<iframe/>",
{id:l,frameborder:0,src:d,width:"100%",height:"100%",webkitAllowFullScreen:!0,mozallowfullscreen:!0,allowFullScreen:!0,allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"}).css("position","absolute")}function yf(){if(!De){if(k.start||null!=O){if(null!=O)var a=O;else k.start&&(a=k.start);O=null;w.setCurrentTime(a).then(function(a){})["catch"](function(a){console.log(a.name)})}k.playbackRate&&1!=k.playbackRate?w.setPlaybackRate(k.playbackRate).then(function(a){})["catch"](function(a){Bb.hide();
console.log(a.name)}):"chromeless"==ba&&Bb.hide();Ee=!0;Mc&&(R=!0);De=!0}"default"==ba?T=!0:we()}function Og(){"default"==ba?T=!1:xe()}function Rg(a){oa(a.playbackRate)}function ze(){if(Qh="default"==ba?!1:!0)Fe||(Fe=c('<div class="mvp-iframe-blocker"></div>').css("display","block").on("click",function(){Q?w.getPaused().then(function(a){a?w.play():w.pause()}):De&&ub?Jb():w.getPaused().then(function(a){a?w.play():w.pause()})}).appendTo(pb)),k.is360?Fe.css("display","none"):Fe.css("display","block");
R?G?Ee?("chromeless"==ba&&H.show(),w.play()):Ee=!0:((!zf&&!Af||Ee)&&w.play().then(function(){yf()})["catch"](function(a){}),"chromeless"==ba&&H.show()):null!=O&&k.poster?w.play():"chromeless"==ba&&H.show();yb&&!uc&&le()}function Sg(a){Db=a.duration;gd=a.seconds;Ge=a.percent}function Pg(){w.off("timeupdate");w.off("ended");ic()}function Oh(){gb.hide()}function Qg(a){console.log("Vimeo Player Error!",a)}function ne(){"image_360"==D&&ob.render(Id,na);G&&ub&&Jb();Kd&&(Kd=!1,setTimeout(function(){clearTimeout(this);
Jd.hide()},1E3))}function zg(){V=new Hls;rf=Hls.isSupported();yg=!0;V.subtitleDisplay=!1;V.subtitleTrack=-1;V.on(Hls.Events.MEDIA_ATTACHED,function(){V.loadSource(da)});V.on(Hls.Events.MANIFEST_PARSED,function(a,d){if(ah){var c=[],b,e=d.levels.length;for(b=0;b<e;b++){var f=d.levels[b];f.width&&c.push({label:f.width+"x"+f.height+", "+Math.ceil(Math.round(f.bitrate/1E3))+"kbps",value:b.toString()})}c.push({label:"auto",value:"-1",selected:!0});ve&&1==c.length||ea(c,"-1")}});V.on(Hls.Events.MANIFEST_LOADED,
function(a,d){});V.on(Hls.Events.LEVEL_LOADED,function(a,d){});V.on(Hls.Events.AUDIO_TRACKS_UPDATED,function(a,d){if(bh){var b=V.audioTracks,e=b.length;if(1<e){var f;for(f=0;f<e;f++){var g=b[f];var k=g.groupId+" - "+g.name;g=g.id.toString();c("<li/>").addClass("mvp-menu-item").attr({"data-value":g,"data-label":k}).text(k).on("click",ta).appendTo(Qd)}He=!0;kc.show();Cf.removeClass("mvp-force-hide")}}});V.on(Hls.Events.AUDIO_TRACK_SWITCHED,function(a,d){if(He){var c=d.id;Ie&&Ie.removeClass("mvp-menu-active");
Ie=Qd.find(".mvp-menu-item[data-value='"+c+"']").addClass("mvp-menu-active");bb&&(P.find(".mvp-audio-language-menu-value").text(Ie.text()),P.find(".mvp-settings-menu").hide(),cb.show())}});V.on(Hls.Events.AUDIO_TRACK_LOADED,function(a,d){});V.on(Hls.Events.SUBTITLE_TRACK_SWITCH,function(a,d){var c=V.subtitleTracks.length;if(0<c&&!k.subtitles){var b;k.subtitles=[];for(b=0;b<c;b++){var e=V.subtitleTracks[b];var f=b.toString();f={label:e.name,value:f,src:e.url};e["default"]&&(f["default"]=!0);k.subtitles.push(f)}Cc()}});
V.on(Hls.Events.SUBTITLE_TRACK_LOADED,function(a,d){});V.on(Hls.Events.ERROR,function(a,d){if(d.fatal)switch(d.type){case Hls.ErrorTypes.NETWORK_ERROR:console.log("fatal network error encountered, try to recover");V.startLoad();break;case Hls.ErrorTypes.MEDIA_ERROR:console.log("fatal media error encountered, try to recover");V.recoverMediaError();break;default:V.destroy()}})}function Bg(){Qa=dashjs.MediaPlayer().create();Ag=!0;Qa.setFastSwitchEnabled=!0;Qa.on(dashjs.MediaPlayer.events.STREAM_INITIALIZED,
function(a){if(ah){var d=Qa.getBitrateInfoListFor("video");console.log(d);var b=[],e=d.length;for(a=0;a<e;a++){var f=d[a];f.width&&b.push({label:f.width+"x"+f.height+", "+Math.ceil(Math.round(f.bitrate/1E3))+"kbps",value:f.qualityIndex.toString()})}b.push({label:"auto",value:"-1",selected:!0});ve&&1==b.length||ea(b,"-1")}if(bh&&(d=Qa.getBitrateInfoListFor("audio"),console.log(d),e=d.length,1<e)){for(a=0;a<e;a++)f=d[a],b=Math.ceil(Math.round(f.bitrate/1E3))+"kbps",f=f.qualityIndex.toString(),c("<li/>").addClass("mvp-menu-item").attr({"data-value":f,
"data-label":b}).text(b).on("click",ta).appendTo(Qd);He=!0;kc.show();Cf.removeClass("mvp-force-hide")}});Qa.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_REQUESTED,function(a){console.log("QUALITY_CHANGE_REQUESTED",a.oldQuality,a.newQuality)});Qa.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_RENDERED,function(a){console.log("dashjs.MediaPlayer.events.QUALITY_CHANGE_RENDERED",a.newQuality)});Qa.on(dashjs.MediaPlayer.events.TRACK_CHANGE_RENDERED,function(a){console.log("TRACK_CHANGE_RENDERED",a)});Qa.on(dashjs.MediaPlayer.events.TEXT_TRACKS_ADDED,
function(a){});Qa.on(dashjs.MediaPlayer.events.ERROR,function(a){console.log("dashjs.MediaPlayer.events.ERROR "+a.error+" : "+a.event.message)});Qa.on(dashjs.MediaPlayer.events.PLAYBACK_ERROR,function(a){console.log("dashjs.MediaPlayer.events.PLAYBACK_ERROR")})}function dc(){Pb=!1;Va&&cancelAnimationFrame(Va);Pa&&clearInterval(Pa);Qb&&(clearTimeout(Qb),Qb=null);Rc&&(clearInterval(Rc),Rc=null);Jd.hide();Kd=!1;rf&&"hls"==D&&V.detachMedia();Fg&&"dash"==D&&Qa.attachSource(null);fb&&(fb.removeEventListener("change",
ne),fb.reset());if("audio"==f)u&&(u.pause(),u.src=""),vc&&vc.off("ended pause play ratechange loadedmetadata error"),se.hide();else if("video"==f){wc&&"video_360"==D&&Sc&&Sc.hide();if(m){m.pause();try{m.currentTime=0}catch(a){}m.src="";m=null}Aa&&Aa.off("ended loadedmetadata ratechange waiting playing play pause error seeked");gc.hide()}else"image"==f?"image_360"==D?(Tc&&Tc.hide(),oe=!1):(gf.hide().find(".mvp-media").remove(),xc=null):"youtube"==f?y&&(Ae=!0,hc.hide(),xf&&y.stopVideo(),Be=!1,zb&&(zb.sw=
null,zb.sh=null)):"vimeo"==f?(Ge=gd=Db=0,w&&(w.unload().then(function(){})["catch"](function(a){console.log(a)}),qb&&(qb.sw=null,qb.sh=null)),De=!1,pb&&pb.hide()):"iframe"==f&&Wg.empty().hide();E&&(E.remove(),E=null);Q&&(Q=!1,Rd.removeClass("mvp-ad-skip-btn-visible"),vf.hide(),ch.hide(),Ed=qe=null,Df.html(dh),Ef=!1);ec.hide().empty();Xc=[];re=!1;Zc.hide();e.removeClass("mvp-holder-visible");Da.hide();Ab.hide();Bb.hide();dd.hide();P.hide().removeClass("mvp-menu-bottom").find(".mvp-settings-menu").css("display",
"none");cb.show();Rb.hide();$c.hide();Sb.hide();Je=null;Sd.hide();Kb.empty();rc=!1;db=[];be=[];La=qa=null;pc.empty();qc.hide();Zf.addClass("mvp-force-hide");oc.hide();md.empty();Yf.addClass("mvp-force-hide");kc.hide();Qd.empty();Cf.addClass("mvp-force-hide");He=!1;R||Ka.hide();Ka.removeClass("mvp-interface-visible");qa&&Kb.removeClass("mvp-subtitle-bottom");U.hide();Fb=null;Eb=[];mc.hide();rd.removeClass("mvp-menu-bottom");sd.removeClass("mvp-menu-bottom");td.removeClass("mvp-menu-bottom");wb=!1;
Xe.hide();Xg.html("");Yg.html("");Zg.html("");ed.hide();ib=!1;Ze.hide();Zb.text(Zb.attr("data-copy-text"));Lb.text(Lb.attr("data-copy-text"));Ye.hide();jb=!1;H.hide();mb.removeClass("mvp-upnext-on mvp-upnext-visible");kf.css("background-image","none");lf.html("");pd.hide();ce.val("");k=D=f=O=null;lb=pa=T=!1;ub=!0;eh.width(0);fh.width(0);gh.width(0);Te.width(0)}function Ff(){t&&f&&(X&&qd(),dc(),N.reSetCounter())}function $e(){f&&dc();r.find(".mvp-playlist-item").remove();A=0;N.reSetCounter();ke=!1;
de="";$b=null;kb=Yb=!1;yd=xd=wd=vd=ja=null;Ob=ac=!1}function Vb(){t&&0!=A&&N.advanceHandler(1,!0)}function ld(){t&&0!=A&&N.advanceHandler(-1,!0)}function we(){gb.hide();H.hide();Ab.find(".mvp-btn-play").hide();Ab.find(".mvp-btn-pause").show();"custom"==Gb&&(Ke.find(".mvp-context-playback-play").hide(),Ke.find(".mvp-context-playback-pause").show());if(!pa){Mc&&(R=!0);zd&&(R=!0);g();db.length&&Sd.show();if(wc&&"video_360"==D){gc.hide();Sc.show();Jd.show();Kd=!0;ye||(ye=!0,na=new THREE.PerspectiveCamera(90,
640/360,.1,1E4),na.position.x+=.1,fb=new THREE.OrbitControls(na,Ca[0]),fb.enableZoom=!1);fb.addEventListener("change",ne);var a=Ca.width(),d=Ca.height();jc.setSize(a,d);na.aspect=a/d;na.updateProjectionMatrix();Pb=!0;Va&&cancelAnimationFrame(Va);Va=requestAnimationFrame(qf)}if("audio"==f||"video"==f||"youtube"==f&&"chromeless"==la||"vimeo"==f&&"chromeless"==ba)Pa&&clearInterval(Pa),Pa=setInterval(Se,250);Q?c(n).trigger("adStart",{instance:n,instanceName:M,adId:k.adId}):c(n).trigger("mediaStart",{instance:n,
instanceName:M,counter:tb});pa=!0;if("audio"==f||"video"==f||"youtube"==f&&"chromeless"==la||"vimeo"==f&&"chromeless"==ba)if(a=n.getDuration(),isNaN(a))var b=setTimeout(function(){clearTimeout(b);var a=n.getDuration();Rb.html(MVPUtils.formatTime(0));Sb.html(MVPUtils.formatTime(a));Ka.show();Za=Cb.width();Q?Ka.hide():hh&&Jb();Td||(Ja.length&&Vf(a),Td=!0);Ud||(ih&&hb.length&&Wf(a),Ud=!0)},500);else Rb.html(MVPUtils.formatTime(0)),Sb.html(MVPUtils.formatTime(a)),Ka.show(),Za=Cb.width(),Q?Ka.hide():hh&&
Jb(),Td||(Ja.length&&Vf(a),Td=!0),Ud||(ih&&hb.length&&Wf(a),Ud=!0);Q&&(vf.show(),Md=wf.width())}if(Rh&&1<mvp_mediaArr.length)for(d=mvp_mediaArr.length,a=0;a<d;a++)n!=mvp_mediaArr[a].inst&&mvp_mediaArr[a].inst.pauseMedia();Q?c(n).trigger("adPlay",{instance:n,instanceName:M,adId:k.adId}):c(n).trigger("mediaPlay",{instance:n,instanceName:M,counter:tb});T=!0}function xe(){gb.hide();Ab.find(".mvp-btn-play").show();Ab.find(".mvp-btn-pause").hide();"custom"==Gb&&(Ke.find(".mvp-context-playback-pause").hide(),
Ke.find(".mvp-context-playback-play").show());ib||jb||vb||(pa?("audio"==f||"video"==f||"youtube"==f&&"chromeless"==la||"vimeo"==f&&"chromeless"==ba)&&H.show():"audio"!=f&&"video"!=f||H.show());Q?c(n).trigger("adPause",{instance:n,instanceName:M,adId:k.adId}):c(n).trigger("mediaPause",{instance:n,instanceName:M,counter:tb});if(Q&&k.link)if(k.target&&"_blank"==k.target)window.open(k.link);else{var a=k.link;Ff();window.location=a;return}T=!1}function qf(){Pb&&(Aa.readyState===Aa.HAVE_ENOUGH_DATA&&(Yc.needsUpdate=
!0),jc.render(pf,na),Va=requestAnimationFrame(qf))}function Se(a){if("undefined"!==typeof a||T){var d;if("audio"==f){var e=u.currentTime,g=u.duration;if("undefined"!==typeof u.buffered&&0!=u.buffered.length){try{var h=u.buffered.end(u.buffered.length-1)}catch(wh){}isNaN(h)||(d=h/Math.floor(u.duration))}}else if("video"==f){if(e=m.currentTime,g=m.duration,"undefined"!==typeof m.buffered&&0!=m.buffered.length){try{h=m.buffered.end(m.buffered.length-1)}catch(wh){}isNaN(h)||(d=h/Math.floor(m.duration))}}else"youtube"==
f?(e=y.getCurrentTime(),g=y.getDuration(),d=y.getVideoLoadedFraction()):"vimeo"==f?(e=gd,g=Db,d=Ge):"image"==f&&(d=1E3*k.duration,e=(new Date).getTime()-uf,Ld-=e,0>Ld&&(Ld=0),uf=(new Date).getTime(),e=(d-Ld)/1E3,g=k.duration,d=1);if(MVPUtils.isNumber(e)&&MVPUtils.isNumber(g)){a=parseInt(e,10);if(Q){if(a!=Je&&(Sh.html("&nbsp;(-"+MVPUtils.formatTime(g-a)+")"),0<a)){if(!Ef&&(Ef=!0,Vd=!1,Wd=null,"undefined"!==typeof k.skipEnable)){Wd=k.skipEnable;var l;Ed?(h=X.next(),0==h.length&&b.loopingOn&&(h=r.find(".mvp-playlist-item").eq(0)),
h.length&&(void 0!=h.attr("data-thumb")?l=h.attr("data-thumb"):h.find(".mvp-thumbimg").length&&(l=h.find(".mvp-thumbimg").attr("src")))):Uc.thumb?l=Uc.thumb:X.find(".mvp-thumbimg").length&&(l=X.find(".mvp-thumbimg").attr("src"));l&&c('<img src="'+l+'" alt=""/>').appendTo(jh.empty().show());kh.show();Rd.addClass("mvp-ad-skip-btn-visible")}null==Wd||Vd||(a<Wd?Df.html(dh+"&nbsp;"+(Wd-a).toString()):(Vd=!0,jh.hide(),kh.hide(),ch.show()))}d&&eh.width(d*Md);fh.width(e/g*Md)}else{if(a!=Je){if(k.end&&e>=
k.end){"loop"!=fd&&"rewind"!=fd&&(Pa&&clearInterval(Pa),Pb=!1,Va&&cancelAnimationFrame(Va));ic();return}if(hb.length)for(h=hb.length,l=0;l<h;l++){var n=hb[l];if(a==n.begin){Pa&&clearInterval(Pa);Pb=!1;Va&&cancelAnimationFrame(Va);qe=n.data;Gd=n.begin+1;Th&&(hb[l].marker.remove(),hb.splice(l,1));va();return}}if(Xc.length)for(h=Xc.length,l=0;l<h;l++){n=Xc[l];var p=n.start;var q=n.end;n=n.item;a>=p&&a<=q-1?n.mvpvisible||(n.hasClass("mvp-iframe")&&n.find("iframe").each(function(){c(this).attr("src",c(this).attr("data-src"))}),
n.css("display","block"),n.mvpvisible=!0):n.mvpvisible&&(n.css("display","none"),n.hasClass("mvp-iframe")&&n.find("iframe").each(function(){c(this).attr("src","about:blank")}),n.mvpvisible=!1)}if(rc&&db.length)for(h=db.length,l=0;l<h;l++)n=db[l],p=n.start,q=n.end,a>=p&&a<=q?qa||(qa=c('<div class="mvp-subtitle">'+n.text+"</div>"),ub||Kb.addClass("mvp-subtitle-bottom"),qa.start=p,qa.end=q,Kb.append(qa)):qa&&(a<qa.start||a>qa.end)&&(qa.remove(),qa=null);0<g&&mb.hasClass("mvp-upnext-on")&&(a>g-xd?mb.addClass("mvp-upnext-visible"):
mb.removeClass("mvp-upnext-visible"));Rb.html(MVPUtils.formatTime(a));Sb.html(MVPUtils.formatTime(g))}d&&1!=d&&gh.width(d*Za);Te.width(e/g*Za)}Je=a}}}function ic(){Q&&c(n).trigger("adEnd",{instance:n,instanceName:M,adId:k.adId});if("undefined"!==typeof k.endLink)if("_blank"==k.endTarget)window.open(k.endLink);else{Ff();window.location=k.endLink;return}if(Q&&!Ed)va();else if(Wc)Ed=!0,va();else{c(n).trigger("mediaEnd",{instance:n,instanceName:M,counter:tb});var a=k.start||0;"next"==fd?Vb():"loop"==
fd?"audio"==f?u&&(u.currentTime=a,u.play()):"video"==f?m&&(m.currentTime=a,m.play()):"youtube"==f?y&&(y.seekTo(a),y.playVideo()):"vimeo"==f&&w&&w.setCurrentTime(a):"rewind"==fd&&("audio"==f?u&&(u.currentTime=a,u.pause()):"video"==f?m&&(m.currentTime=a,m.pause()):"youtube"==f?y&&(y.seekTo(a),y.pauseVideo()):"vimeo"==f&&w&&(w.pause(),w.setCurrentTime(a)))}}function tc(){if("left_bottom"==ka||"right_bottom"==ka)if(e.width()>Uh){J.removeClass("mvp-playlist-holder-bottom").width(Vh);var a=Z?e.width()-
J.width():e.width();I.width(a);if("100%"==hd){var d=e.height();I.height(d);J.height(d)}else d="fullscreen"==Wa?e.height():a/yc,I.height(d),J.height(d),e.height(d)}else J.addClass("mvp-playlist-holder-bottom"),"100%"==hd?(J.css({height:Gf,width:"100%"}),a=e.width(),d=Z?e.height()-J.height():e.height(),I.css({height:d,width:a})):(a=e.width(),d=a/yc,I.css({height:d,width:a}),J.css({height:Gf,width:"100%"}),Z?e.height(d+J.height()):e.height(d),"fullscreen"==Wa&&(Z?I.height(e.height()-J.height()):I.height(e.height())));
else"left"==ka||"right"==ka?(a=Z?e.width()-J.width():e.width(),I.width(a),"100%"==hd&&(d=e.height(),I.height(d))):"bottom"==ka||"top"==ka?"100%"==hd?(a=Z?e.height()-J.height():e.height(),I.height(a)):(a=e.width(),d=a/yc,I.height(d),Z?e.height(d+J.height()):e.height(d),"fullscreen"==Wa&&(Z?I.height(e.height()-J.height()):I.height(e.height()))):"lightbox"==$a?"normal"==Wa&&(a=fc.width(),d=a/yc,fc.height(d)):"outer"==ka?(a=e.width(),d=a/yc,I.height(d)):"no-playlist"==ka&&(a=e.width(),d=a/yc,I.height(d),
e.height(d),"fullscreen"==Wa&&I.height(e.height()));Ib&&sg&&(tg(),cc!=ff&&(ff=cc,r.find(".mvp-playlist-item").each(function(){if(0<Fa){var a=100/cc;c(this).css({marginLeft:0,marginTop:0,marginRight:Fa+"px",marginBottom:Fa+"px",width:"calc("+a+"% - "+Fa+"px)"})}else c(this).css({marginLeft:0,marginTop:0,marginRight:Fa+"px",marginBottom:Fa+"px",width:100/cc+"%"})})));if(Ib)if("buttons"==eb){if("horizontal"==za){a=ia.width();var b=r.width();d="translateX"}else a=ia.height(),b=r.height(),d="translateY";
if(b<a){bc=!1;Ra.hide();Na.hide();var g=parseInt(a/2-b/2,10)}else bc=!0,Sa?g=Sa:(g=r[0].style.transform.replace(/[^\d.]/g,""),g=parseInt(g)||0),0<g?(g=0,Na.show()):g<a-b&&(g=a-b,Ra.show());Sa=g;r.css({"-webkit-transform":""+d+"("+g+"px)","-ms-transform":""+d+"("+g+"px)",transform:""+d+"("+g+"px)"})}else"hover"==eb&&("horizontal"==za?(a=ia.width(),b=r.width(),b<a?(bc=!1,g=parseInt(a/2-b/2,10)):(bc=!0,g=parseInt(r.css("left"),10),0<g?g=0:g<a-b&&(g=a-b)),r.css("left",g+"px")):(d=ia.height(),b=r.height(),
b<d?(bc=!1,g=parseInt(d/2-b/2,10)):(bc=!0,g=parseInt(r.css("top"),10),0<g?g=0:g<d-b&&(g=d-b)),r.css("top",g+"px")));Za=Cb.width();Md=wf.width();f&&("audio"==f?E&&MVPAspectRatio.resizeMedia("image",ya,I,E):"video"==f?wc&&"video_360"==D?Pb&&(a=Ca.width(),d=Ca.height(),jc.setSize(a,d),na.aspect=a/d,na.updateProjectionMatrix()):E?MVPAspectRatio.resizeMedia("image",ya,I,E):Aa&&MVPAspectRatio.resizeMedia("video",ya,I,Aa):"image"==f?"image_360"==D?oe&&(a=Ca.width(),d=Ca.height(),ob.setSize(a,d),na.aspect=
a/d,na.updateProjectionMatrix(),ob.render(Id,na)):xc&&MVPAspectRatio.resizeMedia("image",ya,I,xc):"youtube"==f?"chromeless"==la&&2==ya&&k.width&&k.height&&MVPAspectRatio.resizeMedia("iframe",ya,hc,zb):"vimeo"==f&&"chromeless"==ba&&2==ya&&k.width&&k.height&&MVPAspectRatio.resizeMedia("iframe",ya,pb,qb));if(id)for(g=id.length,a=e.width(),b=0;b<g;b++)d=id[b],a<d.width?(-1==d.elements.indexOf("controls")&&Ka.addClass("mvp-force-hide"),-1==d.elements.indexOf("seekbar")&&Da.addClass("mvp-force-hide"),-1==
d.elements.indexOf("play")&&Ab.addClass("mvp-force-hide"),-1==d.elements.indexOf("time")&&(Rb.addClass("mvp-force-hide"),Sb.addClass("mvp-force-hide"),$c.addClass("mvp-force-hide")),-1==d.elements.indexOf("download")&&Pd.addClass("mvp-force-hide"),-1==d.elements.indexOf("pip")&&Zc.addClass("mvp-force-hide"),-1==d.elements.indexOf("share")&&Hf.addClass("mvp-force-hide"),-1==d.elements.indexOf("info")&&ed.addClass("mvp-force-hide"),-1==d.elements.indexOf("embed")&&If.addClass("mvp-force-hide"),-1==
d.elements.indexOf("next")&&Jf.addClass("mvp-force-hide"),-1==d.elements.indexOf("previous")&&Kf.addClass("mvp-force-hide"),-1==d.elements.indexOf("seek_backward")&&ad.addClass("mvp-force-hide"),-1==d.elements.indexOf("seek_forward")&&bd.addClass("mvp-force-hide"),-1==d.elements.indexOf("rewind")&&cd.addClass("mvp-force-hide"),-1==d.elements.indexOf("volume")&&dd.addClass("mvp-force-hide"),-1==d.elements.indexOf("fullscreen")&&Ga.addClass("mvp-force-hide"),-1==d.elements.indexOf("playlist")&&Lf.addClass("mvp-force-hide"),
-1==d.elements.indexOf("quality")&&oc.addClass("mvp-force-hide"),-1==d.elements.indexOf("playback_rate")&&Bb.addClass("mvp-force-hide"),-1==d.elements.indexOf("subtitles")&&(qc.addClass("mvp-force-hide"),Sd.addClass("mvp-force-hide")),-1==d.elements.indexOf("annotations")&&ec.addClass("mvp-force-hide"),-1==d.elements.indexOf("audio_language")&&kc.addClass("mvp-force-hide"),-1==d.elements.indexOf("upnext")&&mb.addClass("mvp-force-hide"),-1==d.elements.indexOf("settings")&&lh.addClass("mvp-force-hide")):
(-1==d.elements.indexOf("controls")&&Ka.removeClass("mvp-force-hide"),-1==d.elements.indexOf("seekbar")&&Da.removeClass("mvp-force-hide"),-1==d.elements.indexOf("play")&&Ab.removeClass("mvp-force-hide"),-1==d.elements.indexOf("time")&&(Rb.removeClass("mvp-force-hide"),Sb.removeClass("mvp-force-hide"),$c.removeClass("mvp-force-hide")),-1==d.elements.indexOf("download")&&Pd.removeClass("mvp-force-hide"),-1==d.elements.indexOf("pip")&&Zc.removeClass("mvp-force-hide"),-1==d.elements.indexOf("share")&&
Hf.removeClass("mvp-force-hide"),-1==d.elements.indexOf("info")&&ed.removeClass("mvp-force-hide"),-1==d.elements.indexOf("embed")&&If.removeClass("mvp-force-hide"),-1==d.elements.indexOf("next")&&Jf.removeClass("mvp-force-hide"),-1==d.elements.indexOf("previous")&&Kf.removeClass("mvp-force-hide"),-1==d.elements.indexOf("seek_backward")&&ad.removeClass("mvp-force-hide"),-1==d.elements.indexOf("seek_forward")&&bd.removeClass("mvp-force-hide"),-1==d.elements.indexOf("rewind")&&cd.removeClass("mvp-force-hide"),
-1==d.elements.indexOf("volume")&&dd.removeClass("mvp-force-hide"),-1==d.elements.indexOf("fullscreen")&&Ga.removeClass("mvp-force-hide"),-1==d.elements.indexOf("playlist")&&Lf.removeClass("mvp-force-hide"),-1==d.elements.indexOf("quality")&&oc.removeClass("mvp-force-hide"),-1==d.elements.indexOf("playback_rate")&&Bb.removeClass("mvp-force-hide"),-1==d.elements.indexOf("subtitles")&&(qc.removeClass("mvp-force-hide"),Sd.removeClass("mvp-force-hide")),-1==d.elements.indexOf("annotations")&&ec.removeClass("mvp-force-hide"),
-1==d.elements.indexOf("audio_language")&&kc.removeClass("mvp-force-hide"),-1==d.elements.indexOf("upnext")&&mb.removeClass("mvp-force-hide"),-1==d.elements.indexOf("settings")&&lh.removeClass("mvp-force-hide"));if(Wh&&qa){a=Kb.width();g=mh.length;for(b=0;b<g;b++)if(d=mh[b],a>d.width)var h=d.size;Kb.css("fontSize",h+"px")}bb&&P.is(":visible")&&(P.height()>Mf.offset().top-ua.scrollTop()?(P.addClass("mvp-menu-bottom"),e.addClass("mvp-holder-visible")):(P.removeClass("mvp-menu-bottom"),e.removeClass("mvp-holder-visible")))}
function $f(a){if(!t)return!1;if("undefined"!==typeof a){if(Z&&1==a||!Z&&0==a)return!1;Z=!a}Z?J.hide():J.show();Z=!Z;tc()}function Mb(a){var d={};if("html"==(a.type?"data":"html")){d.origclasses=a.attr("class");d.type=a.attr("data-type");yd?d.pwd=yd:void 0==a.attr("data-pwd")||MVPUtils.isEmpty(a.attr("data-pwd"))||(d.pwd=a.attr("data-pwd"));void 0!=a.attr("data-noapi")&&(d.noapi=!0);void 0!=a.attr("data-live-stream")&&(d.liveStream=!0);void 0==a.attr("data-alt")||MVPUtils.isEmpty(a.attr("data-alt"))||
(d.alt=a.attr("data-alt"));void 0==a.attr("data-deeplink")||MVPUtils.isEmpty(a.attr("data-deeplink"))||(d.deeplink=a.attr("data-deeplink"));"image"==d.type||"image_360"==d.type||"audio"==d.type||"video"==d.type||"video_360"==d.type?d.path=a.data("path"):void 0==a.attr("data-path")||MVPUtils.isEmpty(a.attr("data-path"))||(d.path=a.attr("data-path"),-1!=d.path.indexOf("ebsfm:")&&(d.path=atob(d.path.substr(6))));void 0==a.attr("data-mp4")||MVPUtils.isEmpty(a.attr("data-mp4"))||(d.mp4=a.attr("data-mp4"));
void 0==a.attr("data-thumb")||MVPUtils.isEmpty(a.attr("data-thumb"))||(d.thumb=a.attr("data-thumb"));void 0==a.attr("data-title")||MVPUtils.isEmpty(a.attr("data-title"))||(d.title=a.attr("data-title"));a.find(".mvp-playlist-title").length&&(d.domTitle=a.find(".mvp-playlist-title").html());void 0==a.attr("data-description")||MVPUtils.isEmpty(a.attr("data-description"))?a.find(".mvp-playlist-description").length&&(d.description=a.find(".mvp-playlist-description").html()):d.description=a.attr("data-description");
void 0==a.attr("data-quality")||MVPUtils.isEmpty(a.attr("data-quality"))||(d.quality=a.attr("data-quality"));void 0==a.attr("data-download")||MVPUtils.isEmpty(a.attr("data-download"))||(d.download=a.attr("data-download"));void 0==a.attr("data-poster")||MVPUtils.isEmpty(a.attr("data-poster"))||(d.poster=a.attr("data-poster"));void 0==a.attr("data-poster-frame-time")||MVPUtils.isEmpty(a.attr("data-poster-frame-time"))||(d.posterFrameTime=a.attr("data-poster-frame-time"));void 0==a.attr("data-start")||
MVPUtils.isEmpty(a.attr("data-start"))||(d.start=Number(a.attr("data-start")));void 0==a.attr("data-end")||MVPUtils.isEmpty(a.attr("data-end"))||(d.end=Number(a.attr("data-end")));void 0==a.attr("data-duration")||MVPUtils.isEmpty(a.attr("data-duration"))||(d.duration=a.attr("data-duration"));void 0!=a.attr("data-playback-rate")&&!MVPUtils.isEmpty(a.attr("data-playback-rate"))&&MVPUtils.isNumber(a.attr("data-playback-rate"))&&(d.playbackRate=Number(a.attr("data-playback-rate")));void 0==a.attr("data-aspect-ratio")||
MVPUtils.isEmpty(a.attr("data-aspect-ratio"))||(d.aspectRatio=a.attr("data-aspect-ratio"));void 0!=a.attr("data-id3")&&(d.id3=!0);void 0==a.attr("data-share")||MVPUtils.isEmpty(a.attr("data-share"))||(d.share=a.attr("data-share"));void 0==a.attr("data-limit")||MVPUtils.isEmpty(a.attr("data-limit"))||(d.limit=Number(a.attr("data-limit")));void 0==a.attr("data-width")||MVPUtils.isEmpty(a.attr("data-width"))||void 0==a.attr("data-height")||MVPUtils.isEmpty(a.attr("data-height"))||(d.width=parseInt(a.attr("data-width"),
10),d.height=parseInt(a.attr("data-height"),10));void 0!=a.attr("data-is360")&&(d.is360=!0);void 0==a.attr("data-preview-seek")||MVPUtils.isEmpty(a.attr("data-preview-seek"))||(d.previewSeek=a.attr("data-preview-seek"));void 0==a.attr("data-user-id")||MVPUtils.isEmpty(a.attr("data-user-id"))||(d.user_id=a.attr("data-user-id"));void 0==a.attr("data-sort")||MVPUtils.isEmpty(a.attr("data-sort"))||(d.sort=a.attr("data-sort"),void 0==a.attr("data-sort-direction")||MVPUtils.isEmpty(a.attr("data-sort-direction"))||
(d.sortDirection=a.attr("data-sort-direction")));void 0==a.attr("data-user-account")||MVPUtils.isEmpty(a.attr("data-user-account"))||(d.userAccount=a.attr("data-user-account"));if(a.children(".mvp-subtitles").length){var b=a.children(".mvp-subtitles");b.children("div").length&&(d.subtitles=[],b.children("div").each(function(){var a=c(this),b=a.attr("data-label");b={label:b,value:b,src:a.attr("data-src")};void 0!=a.attr("data-default")&&(b["default"]=!0);d.subtitles.push(b)}))}a.find(".mvp-custom-playlist-item-content").length&&
(d.customContent=a.find(".mvp-custom-playlist-item-content").html());void 0!=a.attr("data-chapters")&&(d.chapters=a.attr("data-chapters"));void 0==a.attr("data-link")||MVPUtils.isEmpty(a.attr("data-link"))||(d.link=a.attr("data-link"),void 0==a.attr("data-target")||MVPUtils.isEmpty(a.attr("data-target"))?d.target="_blank":d.target=a.attr("data-target"));void 0==a.attr("data-end-link")||MVPUtils.isEmpty(a.attr("data-end-link"))||(d.endLink=a.attr("data-end-link"),d.endTarget="_blank",void 0==a.attr("data-end-target")||
MVPUtils.isEmpty(a.attr("data-end-target"))||(d.endTarget=a.attr("data-end-target")));void 0==a.attr("data-skip-enable")||MVPUtils.isEmpty(a.attr("data-skip-enable"))||(d.skipEnable=Math.abs(parseInt(a.attr("data-skip-enable"),10)));void 0==a.attr("data-ad-id")||MVPUtils.isEmpty(a.attr("data-ad-id"))||(d.adId=a.attr("data-ad-id"));a.children(".mvp-ad-section").length&&(d.adSection=a.children(".mvp-ad-section"));a.children(".mvp-annotation-section").length&&(d.annotationSection=a.children(".mvp-annotation-section"))}else d=
c.extend(!0,{},a);void 0!=a.attr("data-load-more")&&(Ob=!0,Nb=a.wrap("<p>").parent().html(),Bd&&"youtube_user"==d.type&&(nh=!0));return d}function rg(){var a={playlist:c.trim(r.html()),activePlaylist:de,date:Math.floor(Date.now()/1E3)};Ob&&ca&&Nb&&(a.loadMoreOnTotalScroll=!0,a.nextPageToken=ca,a.loadMoreItem=Nb,nh&&(a.channelId=ra.getChannelId()));localStorage.setItem(zc,JSON.stringify(a))}var e=c(this),Ca=e.find(".mvp-media-holder").show(),J=e.find(".mvp-playlist-holder"),ia=e.find(".mvp-playlist-inner"),
r=e.find(".mvp-playlist-content"),oh=e.find(".mvp-playlist-filter-msg"),Sd=e.find(".mvp-subtitle-holder").css("display","none"),Kb=e.find(".mvp-subtitle-holder-inner"),ec=e.find(".mvp-annotation-holder").css("display","none"),I=e.find(".mvp-player-holder").show(),gc=e.find(".mvp-video-holder"),se=e.find(".mvp-audio-holder"),gf=e.find(".mvp-image-holder"),hc=e.find(".mvp-youtube-holder"),te=e.find(".mvp-vimeo-holder-default"),ue=e.find(".mvp-vimeo-holder-chromeless"),Wg=e.find(".mvp-iframe-holder"),
Ka=e.find(".mvp-player-interface"),Ab=e.find(".mvp-playback-toggle"),Rb=e.find(".mvp-media-time-current"),$c=e.find(".mvp-media-time-separator"),Sb=e.find(".mvp-media-time-total"),mc=e.find(".mvp-preview-seek-wrap"),xh=e.find(".mvp-preview-seek-inner"),vh=e.find(".mvp-preview-seek-time-current"),Da=e.find(".mvp-seekbar"),Cb=e.find(".mvp-progress-bg"),gh=e.find(".mvp-load-level"),Te=e.find(".mvp-progress-level"),dd=e.find(".mvp-volume-wrapper"),Hc=e.find(".mvp-volume-toggle"),ab=e.find(".mvp-volume-seekbar"),
Fc=e.find(".mvp-volume-bg"),zh=e.find(".mvp-volume-level"),Xe=e.find(".mvp-info-holder");e.find(".mvp-info-data");e.find(".mvp-info-inner");var ed=e.find(".mvp-info-toggle"),Xg=e.find(".mvp-player-title"),Zg=e.find(".mvp-player-desc"),Ze=e.find(".mvp-embed-holder");e.find(".mvp-embed-data-wrap");var If=e.find(".mvp-embed-toggle"),pd=e.find(".mvp-pwd-holder"),ce=e.find(".mvp-pwd-field"),Ve=e.find(".mvp-pwd-error").text(),Lf=e.find(".mvp-playlist-toggle"),gb=e.find(".mvp-player-loader"),xb=e.find(".mvp-playlist-loader"),
H=e.find(".mvp-big-play"),Nf=e.find(".mvp-loop-toggle"),Of=e.find(".mvp-shuffle-toggle"),Pd=e.find(".mvp-download-toggle"),Hf=e.find(".mvp-share-toggle"),Ye=e.find(".mvp-share-holder"),ad=e.find(".mvp-seek-backward"),bd=e.find(".mvp-seek-forward"),cd=e.find(".mvp-rewind-toggle"),Ra=e.find(".mvp-nav-backward"),Na=e.find(".mvp-nav-forward"),Jd=e.find(".mvp-vr-info"),nb=e.find(".mvp-lightbox-wrap"),Xh=e.find(".mvp-lightbox"),Yh=e.find(".mvp-lightbox-inner"),fc=e.find(".mvp-lightbox-content-inner"),Zh=
e.find(".mvp-lightbox-close"),$h=e.find(".mvp-lightbox-prev"),ai=e.find(".mvp-lightbox-next"),mb=e.find(".mvp-upnext-wrap"),kf=e.find(".mvp-upnext-thumb"),lf=e.find(".mvp-upnext-title"),Jf=e.find(".mvp-next-toggle"),Kf=e.find(".mvp-previous-toggle"),Mf=e.find(".mvp-settings-toggle"),Bb=e.find(".mvp-playback-rate-toggle"),td=e.find(".mvp-playback-rate-menu-holder"),ae=e.find(".mvp-playback-rate-menu"),oc=e.find(".mvp-quality-toggle").hide(),sd=e.find(".mvp-quality-menu-holder"),md=e.find(".mvp-quality-menu"),
Yf=e.find(".mvp-quality-settings-menu"),qc=e.find(".mvp-subtitle-toggle").hide(),rd=e.find(".mvp-subtitle-menu-holder"),pc=e.find(".mvp-subtitle-menu"),Zf=e.find(".mvp-subtitle-settings-menu"),Qd=e.find(".mvp-audio-language-menu"),Pf=e.find(".mvp-audio-language-menu-holder"),kc=e.find(".mvp-audio-language-toggle").hide(),Cf=e.find(".mvp-audio-language-settings-menu"),Ec=e.find(".mvp-chapter-title"),Zc=e.find(".mvp-pip-toggle").hide(),Lb=e.find(".mvp-link-copy"),Zb=e.find(".mvp-embed-copy"),Yg=e.find(".mvp-player-header-title"),
vf=e.find(".mvp-ad-seekbar"),wf=e.find(".mvp-ad-progress-bg"),eh=e.find(".mvp-ad-load-level"),fh=e.find(".mvp-ad-progress-level"),Sh=e.find(".mvp-ad-info-time"),Rd=e.find(".mvp-ad-skip-btn"),kh=e.find(".mvp-ad-skip-msg"),Df=e.find(".mvp-ad-skip-msg-text"),dh=Df.html(),ch=e.find(".mvp-ad-skip-msg-end"),jh=e.find(".mvp-ad-skip-thumb");b=c.extend(!0,{},{youtubePlayerType:"chromeless",blockYoutubeEvents:!1,vimeoPlayerType:"default",vimeoPlayerColor:"#00adef",blockVimeoEvents:!0,playerRatio:1.7777777,
playlistBottomHeight:300,playlistSideWidth:290,lightboxMaxWidth:920,preload:"auto",sourcePath:"",instanceName:"",thumbScrollValue:50,youtubePlayerColor:"red",verticalBottomSepearator:700,subtitleOffText:"Disabled",showInterfaceOnMediaStart:!0,sortableTracks:!1,useMobileNativePlayer:!1,hideQualityMenuOnSingleQuality:!0,aspectRatio:2,randomPlay:!1,loopingOn:!0,hidePlaylistOnFullscreenEnter:!0,playlistItemContent:"title,description",dynamicSubtitleSize:!0,playbackPositionKey:"mvp-playback-position",
rightClickContextMenu:"custom",focusVideoOnActive:!1,playlistOpened:!0,limitDescriptionText:100,showStreamVideoBitrateMenu:!1,showStreamAudioBitrateMenu:!1,seekTime:10,createAdMarkers:!0,playAdsOnlyOnce:!1,showAnnotationsOnlyOnce:!1,playlistStorageKey:"mvp-playlist-storage",truncateWatch:!0},b);var G=MVPUtils.isMobile(),Qc=MVPUtils.hasLocalStorage(),Ma=b.sourcePath,M=b.instanceName,jg=b.playlistList,fd=b.mediaEndAction,bi=b.useKeyboardNavigationForPlayback,K=b.volume,R=b.autoPlay,zd=b.autoPlayAfterFirst,
yb=b.autoPlayInViewport,Mc=R,$g,Ee,Hd=b.forceMutedAutoplay,Z=b.playlistOpened,ya,ve=b.hideQualityMenuOnSingleQuality,Rh=b.togglePlaybackOnMultipleInstances,og=b.sortableTracks,Dg=b.preload,yc=b.playerRatio,Qf=b.hidePlaylistOnFullscreenEnter,jd,je=b.minimizeOnScroll,me=b.minimizeClass,Gf=b.playlistBottomHeight,Vh=b.playlistSideWidth,ci=b.lightboxMaxWidth,Bf=b.blockYoutubeEvents,Qh=b.blockVimeoEvents,la=b.youtubePlayerType,xg=b.vimeoPlayerType,Cd=b.breakPointArr,Uh=b.verticalBottomSepearator,id=b.elementsVisibilityArr,
nd=b.subtitleOffText,Th=b.playAdsOnlyOnce,di=b.showAnnotationsOnlyOnce,hh=b.showInterfaceOnMediaStart,Ac=b.playbackPositionKey,ph=b.rememberPlaybackPosition&&Qc&&Ac,of=b.useMobileNativePlayer,ei=b.useGa&&"file:"!=window.location.protocol,qh=b.useSwipeNavigation&&"ontouchstart"in window,lg=b.limitDescriptionText,kg=b.playlistItemContent.split(","),Wh=b.dynamicSubtitleSize,Gb=b.rightClickContextMenu,cg=b.focusVideoOnActive,Ib=!0,$a="normal",ah=b.showStreamVideoBitrateMenu,bh=b.showStreamAudioBitrateMenu,
Tb=b.seekTime,ih=b.createAdMarkers,Ih=b.forceYoutubeChromeless,zc=b.playlistStorageKey,Bd=b.cacheTime,Ha=e.attr("class").split(/\s+/),hd="normal";-1<Ha.indexOf("mvp-layout-100")&&(hd="100%");var eb="none";-1<Ha.indexOf("mvp-nt-scroll")?eb="scroll":-1<Ha.indexOf("mvp-nt-buttons")?eb="buttons":-1<Ha.indexOf("mvp-nt-hover")&&(eb="hover");var za="vertical";if(-1<Ha.indexOf("mvp-ht")||-1<Ha.indexOf("mvp-hb"))za="horizontal";var ka="right_bottom";-1<Ha.indexOf("mvp-vlb")?ka="left_bottom":-1<Ha.indexOf("mvp-vl")?
ka="left":-1<Ha.indexOf("mvp-vr")?ka="right":-1<Ha.indexOf("mvp-ht")?ka="top":-1<Ha.indexOf("mvp-hb")?ka="bottom":-1<Ha.indexOf("mvp-vb")?ka="bottom":-1<Ha.indexOf("mvp-wall")?(ka="wall",$a="lightbox"):-1<Ha.indexOf("mvp-outer")?ka="outer":-1<Ha.indexOf("mvp-no-playlist")&&(ka="no-playlist",Ib=!1);"outer"==ka&&(Qf=!1,cg=!0);"default"==la?Bf=!1:qh&&(Bf=!0);"100%"==hd&&(je=yb=!1);"lightbox"==$a&&(je=yb=!1,Z=!0);""!=b.wrapperMaxWidth&&e.css("max-width",b.wrapperMaxWidth+"px");if(Cd&&Cd.length){MVPUtils.keysrt(Cd,
"width");var sg=!0}id&&id.length&&MVPUtils.keysrt(id,"width");var mf=MVPUtils.isIOS(),fi=MVPUtils.isiPhoneIpod(),Hh=MVPUtils.isAndroid(),gi=MVPUtils.hasFullscreen(),Ph=MVPUtils.hasDownloadSupport(),hi=MVPUtils.volumeCanBeSet(),ii=MVPUtils.supportsWebGL(),wg=MVPUtils.canPlayMp4(),vg=MVPUtils.canPlayMp3(),ug=MVPUtils.canPlayWav(),zf=MVPUtils.isChrome(),Af=MVPUtils.isSafari(),ag=document.pictureInPictureEnabled,t=!1,Y=!0,kb,bf,n=this,Rf=c("body"),ua=c(window),Ia=c(document),Le=c("html"),Sf,pa,tb,Pa,
Va,k,pe,Uc,X,A,pg="scroll."+M,Fb,Eb=[],V,rf,He,yg,Qa,Fg=window.MediaSource,Ag,Gg,sc,cf,Cg,vc,u,E,lb,m,Aa,nf,ra,zb,y,Jg,xf,Be,Ae,Ce,nh,xa,qb,w,pb,ba,Lg,Ug,Kg,Tg,Nd,Od,Mg,Vg,De,Db=0,gd=0,Ge=0,Fe,wc=!0,Kd,Eg,Sc,jc,Yc,pf,Pb,na,fb,ye,xc,uf,Ld,Qb,Hg,oe,Tc,sf,tf,Id,ob,Ig,Eh=b.thumbScrollValue,bc=!0,Yb,Sa,Rc,uc,ef,Pc,Dd,O,f,D,da,T,We,wb,ib,vb,jb,ha,hg=0,ub=!0,$b,ke,Ad,ma=[],Ta=[],ja,xd,ac,$d,Hb,Ie,La,rc,be=[],db=[],qa,mh=[{width:0,size:18},{width:480,size:20},{width:768,size:22},{width:1024,size:24},{width:1280,
size:36}],Oc,Ua,Nc,ge,he,df,cc,Fa,ff,Ja=[],Td,Vc,vd,Md=0,Gd,hf,Q,qe,hb=[],Wc,Ed,Wd,Vd,Ef,Ud,Xc=[],Je,jf,Fd,wd,re,yd;window.playlistScrollLoading=!1;"scroll"==eb&&MVPUtils.checkCssExist(MVPUtils.qualifyURL(Ma+"css/jquery.mCustomScrollbar.css"));"undefined"===typeof window.mvp_mediaArr&&(window.mvp_mediaArr=[]);mvp_mediaArr.push({inst:n,id:M});if(ei){if("undefined"===typeof ga){var Xa=document.createElement("script");Xa.type="text/javascript";Xa.src="//www.google-analytics.com/analytics.js";Xa.onload=
Xa.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||ga("create",b.gaTrackingId,"auto")};Xa.onerror=function(){alert("Error loading "+this.src)};var Xd=document.getElementsByTagName("script")[0];Xd.parentNode.insertBefore(Xa,Xd)}else ga("create",b.gaTrackingId,"auto");Pd.on("click",function(){c(n).trigger("mediaDownload",{instance:n,instanceName:M,counter:tb})})}qh&&("undefined"===typeof c.fn.swipe?(Xa=document.createElement("script"),Xa.type="text/javascript",Xa.src=MVPUtils.qualifyURL(Ma+
"js/scripts/jquery.touchSwipe.min.js"),Xa.onload=Xa.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||p()},Xa.onerror=function(){alert("Error loading "+this.src)},Xd=document.getElementsByTagName("script")[0],Xd.parentNode.insertBefore(Xa,Xd)):p());if("lightbox"==$a){Yh.css("max-width",ci+"px");Zh.on("click",function(){nb.one("transitionend",function(){nb.css("display","none")}).css("opacity",0);f&&dc();X&&qd()});if(b.clickOnBackgroundClosesLightbox)Xh.on("click",function(a){a.target==
this&&(nb.one("transitionend",function(){nb.css("display","none")}).css("opacity",0),f&&dc(),X&&qd())});$h.on("click",function(a){a.stopImmediatePropagation();ld()});ai.on("click",function(a){a.stopImmediatePropagation();Vb()})}b.logoPosition&&("tl"==b.logoPosition?e.find(".mvp-logo").css({top:b.logoMargin+"px",left:b.logoMargin+"px"}):"tr"==b.logoPosition?e.find(".mvp-logo").css({top:b.logoMargin+"px",right:b.logoMargin+"px"}):"bl"==b.logoPosition?e.find(".mvp-logo").css({bottom:b.logoMargin+"px",
left:b.logoMargin+"px"}):"br"==b.logoPosition&&e.find(".mvp-logo").css({bottom:b.logoMargin+"px",right:b.logoMargin+"px"}));G?R=!1:yb&&(R=!1);zd&&(R=!1);Hd&&(R=!0);Ib||(Z=!1,J.css({width:0,height:0}).hide());Z?J.show():J.hide();fi&&Zc.remove();ii||(wc=!1,Jd.remove(),zf&&console.log("Turn Hardware Acceleration On Within Chrome Browser to enable 360 video and images!"));"bottom"==ka&&"vertical"==za&&J.css({height:Gf});var Me=c('<div class="mvp-playlist-item"></div>').prependTo(e);var wa="horizontal"==
za?Me.outerWidth(!0):Me.outerHeight(!0);Me.remove();Me=null;ph&&(window.attachEvent||window.addEventListener)(mf?"pagehide":"beforeunload",function(a){window.event&&(window.event.cancelBubble=!0);if(!t||!f)return!1;a={volume:K,activeItem:tb,resumeTime:parseInt(n.getCurrentTime(),10)};localStorage.setItem(Ac,JSON.stringify(a))});mb.find(".mvp-upnext-close").on("click",function(){mb.removeClass("mvp-upnext-on mvp-upnext-visible")});kf.on("click",function(){mb.removeClass("mvp-upnext-on mvp-upnext-visible");
Vb()});lf.on("click",function(){mb.removeClass("mvp-upnext-on mvp-upnext-visible");Vb()});Rd.on("click",function(){if(!t||!Q||!Vd)return!1;Q&&c(n).trigger("adSkip",{instance:n,instanceName:M,adId:k.adId});ic()});ec.on("click",".mvp-annotation-close",function(){var a=c(this).attr("data-id");di?(c(this).parent().remove(),Xc.splice(a,1)):c(this).parent().hide()});e.hasClass("mvp-skin-light-flat")||e.hasClass("mvp-skin-gray-flat");if("ontouchstart"in window){var mg=!0;var Ne="touchstart.ap mousedown.ap";
var rb="touchmove.ap mousemove.ap";var Dc="touchend.ap mouseup.ap"}else window.PointerEvent?(Ne="pointerdown.ap",rb="pointermove.ap",Dc="pointerup.ap"):(Ne="mousedown.ap",rb="mousemove.ap",Dc="mouseup.ap");se.on("click",function(){if(ac)return!1;if(G)if(pa&&ub)Jb();else{if(u)if(u.paused){var a=u.play();void 0!==a&&a.then(function(a){})["catch"](function(a){H.show()})}else u.pause()}else u?u.paused?(a=u.play(),void 0!==a&&a.then(function(a){})["catch"](function(a){H.show()})):u.pause():E&&!pa&&va()});
gc.on("click",function(){if(ac)return!1;if(G)if(pa&&ub)Jb();else if(m)if(m.paused){var a=m.play();void 0!==a&&a.then(function(a){})["catch"](function(a){H.show()})}else m.pause();else E&&!pa&&(E.remove(),E=null,va());else m?m.paused?(a=m.play(),void 0!==a&&a.then(function(a){})["catch"](function(a){H.show()})):m.pause():E&&!pa&&(E.remove(),E=null,va())});e.find(".mvp-search-field").on("keyup.apfilter",function(){if(0==A)return!1;var a=c(this).val(),d,b=0;for(d=0;d<A;d++){var e=r.children(".mvp-playlist-item").eq(d).find(".mvp-playlist-title").html();
-1<e.indexOf(a)?r.children(".mvp-playlist-item").eq(d).show():(r.children(".mvp-playlist-item").eq(d).hide(),b++)}b==A?oh.show():oh.hide()});var Wa="normal",Tf;Ia.on("fullscreenchange mozfullscreenchange MSFullscreenChange webkitfullscreenchange",function(a){Tf==M&&(ha&&clearTimeout(ha),"fullscreen"==Wa?(Wa="normal",Le.removeClass("mvp-fs-overflow"),e.removeClass("mvp-fs"),"lightbox"==$a&&fc.removeClass("mvp-fs"),Ga.find(".mvp-btn-fullscreen").show(),Ga.find(".mvp-btn-normal").hide(),"custom"==Gb&&
(Oe.find(".mvp-context-fullscreen-enter").show(),Oe.find(".mvp-context-fullscreen-exit").hide()),jd&&!Z&&(jd=!1,J.show(),Z=!0),G||Ia.off("mousemove",ud),document.body.style.cursor="default",Tf=null,c(n).trigger("fullscreenExit",{instance:n,instanceName:M})):(Wa="fullscreen",Le.addClass("mvp-fs-overflow"),e.addClass("mvp-fs"),"lightbox"==$a&&fc.addClass("mvp-fs"),Ga.find(".mvp-btn-fullscreen").hide(),Ga.find(".mvp-btn-normal").show(),"custom"==Gb&&(Oe.find(".mvp-context-fullscreen-enter").hide(),Oe.find(".mvp-context-fullscreen-exit").show()),
Qf&&Z&&(jd=!0,J.hide(),Z=!1),G?ha=setTimeout(function(){clearTimeout(this);ha=null;Lc()},4E3):(Ia.on("mousemove",ud),ha=setTimeout(function(){clearTimeout(this);ha=null;ud()},4E3)),c(n).trigger("fullscreenEnter",{instance:n,instanceName:M})));Af&&tc()});var Ga=e.find(".mvp-fullscreen-toggle").on("click",function(a){Tf=M;a=e[0];"normal"==Wa&&c(n).trigger("fullscreenBeforeEnter",{instance:n,instanceName:M});gi?a.requestFullscreen?document.fullscreenElement?document.exitFullscreen():a.requestFullscreen():
a.webkitRequestFullScreen?document.webkitIsFullScreen?document.webkitCancelFullScreen():a.webkitRequestFullScreen():a.msRequestFullscreen?document.msIsFullscreen||document.msFullscreenElement?document.msExitFullscreen():a.msRequestFullscreen():a.mozRequestFullScreen&&(document.fullscreenElement||document.mozFullScreenElement?document.mozCancelFullScreen():a.mozRequestFullScreen()):("fullscreen"==Wa?(Wa="normal",Le.removeClass("mvp-fs-overflow"),e.removeClass("mvp-fs"),"lightbox"==$a&&fc.removeClass("mvp-fs"),
document.body.style.cursor="default",Ga.find(".mvp-btn-fullscreen").show(),Ga.find(".mvp-btn-normal").hide(),jd&&!Z&&(jd=!1,J.show(),Z=!0),c(n).trigger("fullscreenExit",{instance:n,instanceName:M})):(Wa="fullscreen",Le.addClass("mvp-fs-overflow"),e.addClass("mvp-fs"),"lightbox"==$a&&fc.addClass("mvp-fs"),Ga.find(".mvp-btn-fullscreen").hide(),Ga.find(".mvp-btn-normal").show(),Qf&&Z&&(jd=!0,J.hide(),Z=!1),G?ha=setTimeout(function(){clearTimeout(this);ha=null;Lc()},4E3):(Ia.on("mousemove",ud),ha=setTimeout(function(){clearTimeout(this);
ha=null;ud()},4E3)),c(n).trigger("fullscreenEnter",{instance:n,instanceName:M})),tc())});Ga.find(".mvp-btn-normal").hide();Ga.find(".mvp-btn-fullscreen").show();if("disabled"==Gb)e.on("contextmenu",function(){return!1});else if("custom"==Gb){var kd=function(){Rf.off("click.apcc",kd);Bc.hide()},Bc=I.find(".mvp-context-menu").on("contextmenu",function(a){return!1}),Ke=Bc.find(".mvp-context-playback").on("click",function(a){n.togglePlayback()}),Oe=Bc.find(".mvp-context-fullscreen").on("click",function(a){Ga.click()}),
Ic=Bc.find(".mvp-context-volume").on("click",function(a){l()});I.on("contextmenu",function(a){if(c(a.target).hasClass("mvp-volume-level")||c(a.target).hasClass("mvp-volume-bg")||c(a.target).hasClass("mvp-progress-level")||c(a.target).hasClass("mvp-progress-bg")||c(a.target).hasClass("mvp-load-level")||c(a.target).hasClass("mvp-embed-code"))return!0;a.preventDefault();a.stopPropagation();var b=I[0].getBoundingClientRect(),e=Bc.outerWidth(!0),f=Bc.outerHeight(!0),g=parseInt(a.pageX-ua.scrollLeft()-
b.left,10);a=parseInt(a.pageY-ua.scrollTop()-b.top,10);g>I.width()-e&&(g-=e);a>I.height()-f&&(a-=f);Bc.css({left:g+"px",top:a+"px"}).show();Rf.one("click.apcc",kd)}).on("mouseleave",kd);Rf.on("mouseleave",kd);Ia.on("contextmenu",kd).keyup(function(a){27==a.keyCode&&kd()})}var U=e.find(".mvp-tooltip");if(!G)e.find("[data-tooltip]").on("mouseenter",function(a){a=c(this);var b=e[0].getBoundingClientRect(),f=a[0].getBoundingClientRect();U.text(a.attr("data-tooltip"));if(void 0!=a.attr("data-tooltip-position"))if("left"==
a.attr("data-tooltip-position"))var g=parseInt(f.top-b.top-U.outerHeight()/2+a.outerHeight()/2),h=parseInt(f.left-b.left-U.outerWidth()-3);else"bottom"==a.attr("data-tooltip-position")&&(g=parseInt(f.top-b.top+a.outerHeight()),h=parseInt(f.left-b.left-U.outerWidth()/2+a.outerWidth()/2));else g=parseInt(f.top-b.top-U.outerHeight()),h=parseInt(f.left-b.left-U.outerWidth()/2+a.outerWidth()/2);"lightbox"!=$a&&(0>h?h=0:h+U.outerWidth()>e.width()&&(h=e.width()-U.outerWidth()),0>g+b.top&&(g=parseInt(f.top-
b.top+U.outerHeight()+15)));U.css({left:h+"px",top:g+"px"}).show()}).on("mouseleave",function(a){U.hide()});var Yd,Za,yh=Da.hasClass("mvp-position-top")?"top":"bottom";Da.on(Ne,function(a){if(t){if(Q)return!1;lc(a);return!1}});if(!G){var Pe=function(){pa&&(Da.off(rb,L).off("mouseout",Pe),Ia.off("mouseout",Pe),k.previewSeek?mc.hide():U.hide())};Da.on("mouseover",function(){pa&&(Da.on(rb,L).on("mouseout",Pe),Ia.on("mouseout",Pe))})}var nc=ab.hasClass("mvp-volume-horizontal"),Ue=.5;nc?ab.width():ab.height();
var Gc=nc?Fc.width():Fc.height(),Zd;0>K?K=0:1<K&&(K=1);0!=K&&(Ue=K);if(!hi||G)ab.remove(),Hc.on("click",function(a){l()});else Hc.on("click",function(a){G&&0!=ab.length&&!ab.hasClass("mvp-force-hide")||l()});ab.on(Ne,function(a){v(a);return!1});if(!G){var Qe=function(){ab.off(rb,aa).off("mouseout",Qe);Ia.off("mouseout",Qe);U.hide()};ab.on("mouseover",function(){ab.on(rb,aa).on("mouseout",Qe);Ia.on("mouseout",Qe)})}MVPUtils.isEmpty(b.facebookAppId)?console.log("facebookAppId has not been set in settings!"):
"file:"!=window.location.protocol&&S(b.facebookAppId);var lh=e.find(".mvp-settings-wrap"),P=e.find(".mvp-settings-holder"),cb=e.find(".mvp-settings-home"),bb=P.length;Mf.on("click",function(){ib&&Jc(!1);vb&&od(!1);jb&&Kc(!1);P.is(":visible")?(P.hide(),P.find(".mvp-settings-menu").css("display","none"),cb.css("display","block")):P.show()});bb&&(cb.find(".mvp-menu-item").on("click",function(){var a=c(this).attr("data-target");cb.hide();P.find(".mvp-settings-menu").css("display","none");P.find("."+a+
"-holder").css("display","block");P.height()>Mf.offset().top-ua.scrollTop()&&(P.addClass("mvp-menu-bottom"),e.addClass("mvp-holder-visible"))}),P.find(".mvp-menu-header").on("click",function(){P.find(".mvp-settings-menu").css("display","none");cb.css("display","block");P.removeClass("mvp-menu-bottom");e.removeClass("mvp-holder-visible")}),ae.find(".mvp-menu-item").each(function(){c(this).on("click",C)}));Bb.length&&(Bb.on("mouseenter",function(){td.show();ae.height()>Bb.offset().top-ua.scrollTop()&&
(td.addClass("mvp-menu-bottom"),e.addClass("mvp-holder-visible"))}).on("mouseleave",function(){td.hide().removeClass("mvp-menu-bottom");e.removeClass("mvp-holder-visible")}),ae.find(".mvp-menu-item").each(function(){c(this).on("click",C)}));if(oc.length)oc.on("mouseenter",function(){sd.show();md.height()>oc.offset().top-ua.scrollTop()&&(sd.addClass("mvp-menu-bottom"),e.addClass("mvp-holder-visible"))}).on("mouseleave",function(){sd.hide().removeClass("mvp-menu-bottom");e.removeClass("mvp-holder-visible")});
if(kc.length)kc.on("mouseenter",function(){Pf.show();Qd.height()>kc.offset().top-ua.scrollTop()&&(Pf.addClass("mvp-menu-bottom"),e.addClass("mvp-holder-visible"))}).on("mouseleave",function(){Pf.hide().removeClass("mvp-menu-bottom");e.removeClass("mvp-holder-visible")});if(qc.length)qc.on("mouseenter",function(){rd.show();pc.height()>qc.offset().top-ua.scrollTop()&&(rd.addClass("mvp-menu-bottom"),e.addClass("mvp-holder-visible"))}).on("mouseleave",function(){rd.hide().removeClass("mvp-menu-bottom");
e.removeClass("mvp-holder-visible")});this.setSubtitle=function(a){if(!t||!f)return!1;Kb.empty();Sd.show();if(a==nd||""==a)rc=!1,qa=null,La&&La.removeClass("mvp-menu-active"),La=pc.find(".mvp-menu-item[data-label='"+nd+"']").addClass("mvp-menu-active");else if(be[a])rc=!1,qa=null,La&&La.removeClass("mvp-menu-active"),La=pc.find(".mvp-menu-item[data-label='"+a+"']").addClass("mvp-menu-active"),db=be[a],rc=!0;else{var b,c=k.subtitles.length;for(b=0;b<c;b++){var e=k.subtitles[b];if(e.label==a){rc=!1;
qa=null;La&&La.removeClass("mvp-menu-active");La=pc.find(".mvp-menu-item[data-label='"+a+"']").addClass("mvp-menu-active");"hls"==D?W(e):"dash"!=D&&Uf(e);break}}}bb&&P.find(".mvp-subtitle-menu-value").text(a)};bi&&Ia.keyup(function(a){a.stopImmediatePropagation();a.preventDefault();if(!t)return!1;var b=a.keyCode;a=c(a.target);if(37==b)n.seekBackward();else if(39==b)n.seekForward();else if(33==b)ld();else if(34==b)Vb();else if(32==b){if(a.hasClass("mvp-search-field")||a.hasClass("mvp-pwd-field"))return!1;
n.togglePlayback()}else if(77==b){if(a.hasClass("mvp-search-field")||a.hasClass("mvp-pwd-field"))return!1;l()}});var rh=[Ab,Lf,Ga,H,dd,ed,Hf,ad,bd,cd,Nf,Of,If,Jf,Kf,Zc,e.find(".mvp-pwd-confirm"),e.find(".mvp-embed-close"),e.find(".mvp-info-close"),e.find(".mvp-share-item"),e.find(".mvp-share-close")],ji=rh.length,Wb;for(Wb=0;Wb<ji;Wb++)c(rh[Wb]).css("cursor","pointer").on("click",uh);var ki=e.find(".mvp-link-code").text(window.location.href);Lb.on("click",function(){MVPUtils.selectText(ki[0]);try{document.execCommand("copy"),
Lb.text(Lb.attr("data-copied-text"))}catch(a){alert("Please press Ctrl/Cmd+C to copy code!")}Zb.text(Zb.attr("data-copy-text"))});if(b.embedWidth&&!MVPUtils.isEmpty(b.embedWidth)&&b.embedHeight&&!MVPUtils.isEmpty(b.embedHeight)){var li=b.embedSrc||window.location.href,mi=e.find(".mvp-embed-code").text('<iframe width="'+b.embedWidth+'" height="'+b.embedHeight+'" src="'+li+'" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>');e.find(".mvp-embed-copy").on("click",
function(){MVPUtils.selectText(mi[0]);try{document.execCommand("copy"),Zb.text(Zb.attr("data-copied-text"))}catch(a){alert("Please press Ctrl/Cmd+C to copy code!")}Lb.text(Lb.attr("data-copy-text"))})}e.find(".mvp-embed-inner");var N=new MVPPlaylistManager(b);c(N).on("MVPPlaylistManager.COUNTER_READY",function(a,b){lb=!1;k=Uc=null;hf=!1;Vc=Wc=Gd=null;hb=[];Cb.find(".mvp-ad-indicator").remove();Ud=!1;Cb.find(".mvp-chapter-indicator").remove();Ec.css({display:"none",opacity:0});Ja=[];Td=!1;Da.removeClass("mvp-seekbar-chapters");
jf=!1;Fd=null;Ah();va()}).on("MVPPlaylistManager.RANDOM_CHANGE",function(a,b){b?Of.addClass("mvp-contr-btn-hover"):Of.removeClass("mvp-contr-btn-hover")}).on("MVPPlaylistManager.LOOP_CHANGE",function(a,b){b?Nf.addClass("mvp-contr-btn-hover"):Nf.removeClass("mvp-contr-btn-hover")});window.onYouTubeIframeAPIReady=function(){};ua.on("resize",function(){if(!t)return!1;Sf&&clearTimeout(Sf);Sf=setTimeout(tc,100)});this.playMedia=function(){if(!t||!f||T)return!1;if("audio"==f){if(u){var a=u.play();void 0!==
a&&a.then(function(a){})["catch"](function(a){H.show()})}}else"video"==f?E?(E.remove(),E=null,va()):m&&(a=m.play(),void 0!==a&&a.then(function(a){})["catch"](function(a){H.show()})):"youtube"==f?y.playVideo():"vimeo"==f&&w.play();T=!0};this.pauseMedia=function(){if(!t||!f||!T)return!1;"audio"==f?u&&u.pause():"video"==f?m&&m.pause():"youtube"==f?y.pauseVideo():"vimeo"==f&&w.pause();T=!1};this.togglePlayback=function(){if(!t||!f)return!1;if(!ac)if("audio"==f)if(E&&!pa)H.hide(),gb.show(),va();else{if(u)if(u.paused){var a=
u.play();void 0!==a&&a.then(function(a){})["catch"](function(a){H.show()})}else u.pause()}else"video"==f?E&&!pa?(E.remove(),E=null,H.hide(),gb.show(),va()):m&&(m.paused?(a=m.play(),void 0!==a&&a.then(function(a){})["catch"](function(a){H.show()})):m.pause()):"youtube"==f?E&&!pa?(E.remove(),E=null,H.hide(),va()):(a=y.getPlayerState(),1==a?y.pauseVideo():2==a?y.playVideo():(-1==a||5==a||0==a)&&y.playVideo()):"vimeo"==f&&(E&&!pa?(E.remove(),E=null,H.hide(),va()):w.getPaused().then(function(a){a?w.play():
w.pause()}))};this.nextMedia=function(){if(!t)return!1;Vb()};this.previousMedia=function(){if(!t)return!1;ld()};this.setVolume=function(a){if(!t)return!1;0>a?a=0:1<a&&(a=1);g(a)};this.toggleMute=function(){if(!t)return!1;l()};this.seek=function(a){if(!t||!f)return!1;"audio"==f?u.currentTime=a:"video"==f?m.currentTime=a:"youtube"==f?y.seekTo(a):"vimeo"==f&&w.setCurrentTime(a)};this.seekBackward=function(a){if(!t||!f)return!1;if("audio"==f){if(u)try{u.currentTime=Math.max(u.currentTime-(a||Tb),0)}catch(F){console.log(F)}}else if("video"==
f){if(m)try{m.currentTime=Math.max(m.currentTime-(a||Tb),0)}catch(F){console.log(F)}}else if("youtube"==f){var b=Math.max(y.getCurrentTime()-(a||Tb),0);y.seekTo(b)}else"vimeo"==f&&w.getCurrentTime().then(function(b){w.setCurrentTime(Math.max(b-(a||Tb),0))})};this.seekForward=function(a){if(!t||!f)return!1;if("audio"==f){if(u)try{u.currentTime=Math.min(u.currentTime+(a||Tb),u.duration)}catch(F){console.log(F)}}else if("video"==f){if(m)try{m.currentTime=Math.min(m.currentTime+(a||Tb),m.duration)}catch(F){console.log(F)}}else if("youtube"==
f){var b=Math.min(y.getCurrentTime()+(a||Tb),y.getDuration());y.seekTo(b)}else"vimeo"==f&&(0!=Db&&0!=gd?(b=Math.min(gd+(a||Tb),Db),w.setCurrentTime(b)):w.getCurrentTime().then(function(b){w.getDuration().then(function(c){w.setCurrentTime(Math.min(b+(a||Tb),c))})}))};this.getCurrentTime=function(){if(!t||!f)return!1;if("audio"==f)return u.currentTime;if("video"==f)return m.currentTime;if("youtube"==f)return y.getCurrentTime();if("vimeo"==f)return gd};this.getDuration=function(){if(!t||!f)return!1;
if("audio"==f)return u.duration;if("video"==f)return m.duration;if("youtube"==f)return y.getDuration();if("vimeo"==f)return Db};this.getLoadProgress=function(){if(!t||!f)return!1;var a;if("audio"==f){if("undefined"!==typeof u.buffered&&0!=u.buffered.length){try{var b=u.buffered.end(u.buffered.length-1)}catch(F){}isNaN(b)||(a=b/Math.floor(u.duration))}}else if("video"==f){if("undefined"!==typeof m.buffered&&0!=m.buffered.length){try{b=m.buffered.end(m.buffered.length-1)}catch(F){}isNaN(b)||(a=b/Math.floor(m.duration))}}else"youtube"==
f?a=y.getVideoLoadedFraction():"vimeo"==f&&(a=Ge);return a};this.togglePlaylist=function(a){if(!t)return!1;$f(a)};this.toggleRandom=function(a){if(!t||"undefined"===typeof N)return!1;N.setRandom(a)};this.toggleLoop=function(a){if(!t||"undefined"===typeof N)return!1;N.setLooping(a)};this.setPlaybackRate=function(a){if(!t||!f)return!1;k.playbackRate=a;"audio"==f?u&&(u.playbackRate=a):"video"==f?m&&(m.playbackRate=a):"youtube"==f?y.setPlaybackRate(a):"vimeo"==f&&w.setPlaybackRate(a).then(function(a){})["catch"](function(a){console.log(a.name)})};
this.setPlaybackQuality=function(a){if(!t||!f)return!1;if("image"==f||"audio"==f||"video"==f){if("hls"!=D||"dash"!=D)k.quality=a,Ub(a),va(!0)}else"youtube"==f&&y.setPlaybackQuality(a)};this.toggleInfo=function(a){if(!t||!f)return!1;Jc(a)};this.toggleShare=function(a){if(!t||!f)return!1;Kc(a)};this.toggleFullscreen=function(){if(!t)return!1;Ga.click()};this.openLightbox=function(){if(!t)return!1;f&&dc();nb.css("display","block");setTimeout(function(){clearTimeout(this);nb.css("opacity",1)},50)};this.closeLightbox=
function(){if(!t)return!1;nb.one("transitionend",function(){nb.css("display","none")}).css("opacity",0);f&&dc()};this.destroyMedia=function(){if(!t)return!1;Ff()};this.destroyPlaylist=function(){if(!t)return!1;$e()};this.loadPlaylist=function(a){if(!t||Y)return!1;if("string"===typeof a){if(de==a)return!1;ig(a)}else return alert("Invalid value loadPlaylist!"),!1};this.setAutoPlay=function(a){R=a};this.inputMedia=function(a){if(!t||Y)return!1;if("undefined"===typeof a)return alert("inputMedia method requires data parameter. inputMedia failed."),
!1;X&&qd();N.reSetCounter();pe=a;va()};this.loadMedia=function(a){if(!t||Y||!$b)return!1;if("number"===typeof a)0>a?a=0:a>A-1&&(a=A-1),N.processPlaylistRequest(a);else return alert("Invalid value loadMedia!"),!1};this.addTrack=function(a,b,e,f){if(!t||Y)return!1;if("undefined"===typeof a)return alert("addTrack method requires format parameter. AddTrack failed."),!1;if("undefined"===typeof b)return alert("addTrack method requires track parameter. AddTrack failed."),!1;ge=!1;"undefined"!==typeof e&&
(ge=e);e=1;var d=!1;if("string"!==typeof b&&"[object Object]"!==Object.prototype.toString.call(b))if("[object Array]"===Object.prototype.toString.call(b))e=b.length,d=!0;else return alert("addTrack method requires track as string, object or array parameter. AddTrack failed."),!1;Ua=f;Oc=!1;Nc=!0;if($b)if("undefined"!==typeof Ua){if(0>Ua||Ua>A)return alert('Invalid position to insert track to. Position number "'+f+'" doesnt exist. AddTrack failed.'),!1;Ua==A&&(Oc=!0)}else Oc=!0,Ua=A;else{if("undefined"!==
typeof Ua){if(0!=Ua)return alert('Invalid position to insert track to. Position number "'+f+'" doesnt exist. AddTrack failed.'),!1}else Ua=0;Oc=!0}Y=!0;xb.show();Ad=-1;ma=[];Ta=[];for(f=0;f<e;f++){var g=d?b[f]:b;g="html"==a?c(c.parseHTML(g)):g;Ta.push(g)}A=Ta.length;he=!1;$b||(he=!0);$b="exist";ee=!1;Ea()};this.removeTrack=function(a){if(!t||Y)return!1;if(0!=A){if("undefined"===typeof a)return alert("removeTrack method requires id parameter. removeTrack failed."),!1;if("string"===typeof a){var b=
!1;r.find(".mvp-playlist-item").each(function(){if(c(this).find(".mvp-playlist-title").html()==a)return e=c(this),a=r.find(".mvp-playlist-item").index(e),b=!0,!1});if(!b)return alert('Track with title "'+a+'" doesnt exist. RemoveTrack failed.'),!1}else if("number"===typeof a){a=parseInt(a,10);if(0>a||a>A-1)return alert('Invalid id number. Track number  "'+a+'" doesnt exist. RemoveTrack failed.'),!1;var e=r.find(".mvp-playlist-item").eq(a)}else return alert("removeTrack method requires either a id number or a track title to remove. removeTrack failed."),
!1;e.remove();A=r.children(".mvp-playlist-item").length;if(0<A){var f=N.getCounter();a==f?(dc(),N.setPlaylistItems(A)):(N.setPlaylistItems(A,!1),a<f&&N.reSetCounter(N.getCounter()-1));Qc&&Bd&&rg()}else $e()}};this.setLoadMore=function(a){Ob=a};this.loadMore=function(){if(!Y){Y=!0;xb.show();kb=!0;ma=[];var a=bf;"youtube"==a?(ra||Oa("youtube"),ra.resumeLoad(ca)):"vimeo"==a&&(xa||Oa("vimeo"),xa.resumeLoad(ca))}};this.getTitle=function(){return t&&k?k.title||k.domTitle||"":!1};this.getMediaPlaying=function(){return t?
T:!1};this.getPlaylistLength=function(){return t?A:!1};this.getSetupDone=function(){return t};this.getSettings=function(){return b};this.getActiveItemId=function(){return t?"undefined"!==typeof N?N.getCounter():null:!1};this.adSkip=function(){if(!t||!Q||!Vd)return!1;Rd&&Rd.trigger("click")};var Re=MVPUtils.getUrlParameter();Re.t&&(b.playbackPositionTime=Re.t);Re.media_id&&(b.activeItem=Re.media_id);if(Ac)if(!ph)localStorage.removeItem(Ac);else if(Qc&&localStorage.getItem(Ac)){var Ya=JSON.parse(localStorage.getItem(Ac));
b.playbackPositionTime=Ya.resumeTime;K=Ya.volume;b.activeItem=Ya.activeItem;localStorage.removeItem(Ac)}if(Qc)if(Bd){if(b.activePlaylist&&!MVPUtils.isEmpty(b.activePlaylist)&&localStorage.getItem(zc))if(Ya=JSON.parse(localStorage.getItem(zc)),Ya.date+Bd>Math.floor(Date.now()/1E3))if(Ya.activePlaylist==b.activePlaylist){var de=b.activePlaylist;b.activePlaylist="";r.html(Ya.playlist);var ee=!0;if(Ya.loadMoreOnTotalScroll){var Ob=Ya.loadMoreOnTotalScroll;var ca=Ya.nextPageToken;var Nb=Ya.loadMoreItem;
Ya.channelId&&(Nb=Nb.replace(/youtube_user/g,"youtube_channel").replace(/data-path="(.*?)"/g,"data-path='"+Ya.channelId+"'"))}}else localStorage.removeItem(zc);else localStorage.removeItem(zc)}else localStorage.removeItem(zc);this.deletePlaylistCache=function(){Qc&&localStorage.removeItem(zc)};b.activePlaylist&&!MVPUtils.isEmpty(b.activePlaylist)?ig(b.activePlaylist):(console.log("setupFromDom"),Fh());return this}})(jQuery);